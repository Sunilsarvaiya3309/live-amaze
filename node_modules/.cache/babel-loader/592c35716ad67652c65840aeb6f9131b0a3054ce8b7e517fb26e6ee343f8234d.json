{"ast":null,"code":"import defu from 'defu';\nimport { ref, unref, watch, computed, reactive, toRaw, inject, onUpdated, nextTick, defineComponent, useSlots, h, Fragment, isRef } from 'vue';\nimport { isObject as isObject$1, useEventListener, useIntersectionObserver, unrefElement, useMediaQuery } from '@vueuse/core';\nimport { tryOnUnmounted } from '@vueuse/shared';\nimport sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond, inertia, animate, cubicBezier, bounceOut, bounceInOut, bounceIn, anticipate, backOut, backInOut, backIn, circOut, circInOut, circIn, easeOut, easeInOut, easeIn, linear } from 'popmotion';\nimport { number, alpha, filter, px, progressPercentage, degrees, scale, color, complex } from 'style-value-types';\nconst motionState = {};\nclass SubscriptionManager {\n  subscriptions = /* @__PURE__ */new Set();\n  add(handler) {\n    this.subscriptions.add(handler);\n    return () => this.subscriptions.delete(handler);\n  }\n  notify(a, b, c) {\n    if (!this.subscriptions.size) return;\n    for (const handler of this.subscriptions) handler(a, b, c);\n  }\n  clear() {\n    this.subscriptions.clear();\n  }\n}\nfunction isFloat(value) {\n  return !Number.isNaN(Number.parseFloat(value));\n}\nclass MotionValue {\n  /**\r\n   * The current state of the `MotionValue`.\r\n   */\n  current;\n  /**\r\n   * The previous state of the `MotionValue`.\r\n   */\n  prev;\n  /**\r\n   * Duration, in milliseconds, since last updating frame.\r\n   */\n  timeDelta = 0;\n  /**\r\n   * Timestamp of the last time this `MotionValue` was updated.\r\n   */\n  lastUpdated = 0;\n  /**\r\n   * Functions to notify when the `MotionValue` updates.\r\n   */\n  updateSubscribers = new SubscriptionManager();\n  /**\r\n   * A reference to the currently-controlling Popmotion animation\r\n   */\n  stopAnimation;\n  /**\r\n   * Tracks whether this value can output a velocity.\r\n   */\n  canTrackVelocity = false;\n  /**\r\n   * init - The initiating value\r\n   * config - Optional configuration options\r\n   */\n  constructor(init) {\n    this.prev = this.current = init;\n    this.canTrackVelocity = isFloat(this.current);\n  }\n  /**\r\n   * Adds a function that will be notified when the `MotionValue` is updated.\r\n   *\r\n   * It returns a function that, when called, will cancel the subscription.\r\n   */\n  onChange(subscription) {\n    return this.updateSubscribers.add(subscription);\n  }\n  clearListeners() {\n    this.updateSubscribers.clear();\n  }\n  /**\r\n   * Sets the state of the `MotionValue`.\r\n   *\r\n   * @param v\r\n   * @param render\r\n   */\n  set(v) {\n    this.updateAndNotify(v);\n  }\n  /**\r\n   * Update and notify `MotionValue` subscribers.\r\n   *\r\n   * @param v\r\n   * @param render\r\n   */\n  updateAndNotify = v => {\n    this.prev = this.current;\n    this.current = v;\n    const {\n      delta,\n      timestamp\n    } = getFrameData();\n    if (this.lastUpdated !== timestamp) {\n      this.timeDelta = delta;\n      this.lastUpdated = timestamp;\n    }\n    sync.postRender(this.scheduleVelocityCheck);\n    this.updateSubscribers.notify(this.current);\n  };\n  /**\r\n   * Returns the latest state of `MotionValue`\r\n   *\r\n   * @returns - The latest state of `MotionValue`\r\n   */\n  get() {\n    return this.current;\n  }\n  /**\r\n   * Get previous value.\r\n   *\r\n   * @returns - The previous latest state of `MotionValue`\r\n   */\n  getPrevious() {\n    return this.prev;\n  }\n  /**\r\n   * Returns the latest velocity of `MotionValue`\r\n   *\r\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\r\n   */\n  getVelocity() {\n    return this.canTrackVelocity ? velocityPerSecond(Number.parseFloat(this.current) - Number.parseFloat(this.prev), this.timeDelta) : 0;\n  }\n  /**\r\n   * Schedule a velocity check for the next frame.\r\n   */\n  scheduleVelocityCheck = () => sync.postRender(this.velocityCheck);\n  /**\r\n   * Updates `prev` with `current` if the value hasn't been updated this frame.\r\n   * This ensures velocity calculations return `0`.\r\n   */\n  velocityCheck = ({\n    timestamp\n  }) => {\n    if (!this.canTrackVelocity) this.canTrackVelocity = isFloat(this.current);\n    if (timestamp !== this.lastUpdated) this.prev = this.current;\n  };\n  /**\r\n   * Registers a new animation to control this `MotionValue`. Only one\r\n   * animation can drive a `MotionValue` at one time.\r\n   */\n  start(animation) {\n    this.stop();\n    return new Promise(resolve => {\n      const {\n        stop\n      } = animation(resolve);\n      this.stopAnimation = stop;\n    }).then(() => this.clearAnimation());\n  }\n  /**\r\n   * Stop the currently active animation.\r\n   */\n  stop() {\n    if (this.stopAnimation) this.stopAnimation();\n    this.clearAnimation();\n  }\n  /**\r\n   * Returns `true` if this value is currently animating.\r\n   */\n  isAnimating() {\n    return !!this.stopAnimation;\n  }\n  /**\r\n   * Clear the current animation reference.\r\n   */\n  clearAnimation() {\n    this.stopAnimation = null;\n  }\n  /**\r\n   * Destroy and clean up subscribers to this `MotionValue`.\r\n   */\n  destroy() {\n    this.updateSubscribers.clear();\n    this.stop();\n  }\n}\nfunction getMotionValue(init) {\n  return new MotionValue(init);\n}\nconst {\n  isArray\n} = Array;\nfunction useMotionValues() {\n  const motionValues = ref({});\n  const stop = keys => {\n    const destroyKey = key => {\n      if (!motionValues.value[key]) return;\n      motionValues.value[key].stop();\n      motionValues.value[key].destroy();\n      delete motionValues.value[key];\n    };\n    if (keys) {\n      if (isArray(keys)) {\n        keys.forEach(destroyKey);\n      } else {\n        destroyKey(keys);\n      }\n    } else {\n      Object.keys(motionValues.value).forEach(destroyKey);\n    }\n  };\n  const get = (key, from, target) => {\n    if (motionValues.value[key]) return motionValues.value[key];\n    const motionValue = getMotionValue(from);\n    motionValue.onChange(v => target[key] = v);\n    motionValues.value[key] = motionValue;\n    return motionValue;\n  };\n  tryOnUnmounted(stop);\n  return {\n    motionValues,\n    get,\n    stop\n  };\n}\nfunction isKeyframesTarget(v) {\n  return Array.isArray(v);\n}\nfunction underDampedSpring() {\n  return {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10\n  };\n}\nfunction criticallyDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10\n  };\n}\nfunction overDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 100 : 30,\n    restDelta: 0.01,\n    restSpeed: 10\n  };\n}\nfunction linearTween() {\n  return {\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 300\n  };\n}\nfunction keyframes(values) {\n  return {\n    type: \"keyframes\",\n    duration: 800,\n    values\n  };\n}\nconst defaultTransitions = {\n  default: overDampedSpring,\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: criticallyDampedSpring,\n  scaleY: criticallyDampedSpring,\n  scale: criticallyDampedSpring,\n  backgroundColor: linearTween,\n  color: linearTween,\n  opacity: linearTween\n};\nfunction getDefaultTransition(valueKey, to) {\n  let transitionFactory;\n  if (isKeyframesTarget(to)) {\n    transitionFactory = keyframes;\n  } else {\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\n  }\n  return {\n    to,\n    ...transitionFactory(to)\n  };\n}\nconst int = {\n  ...number,\n  transform: Math.round\n};\nconst valueTypes = {\n  // Color props\n  color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  // Border props\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  // Positioning props\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  // Spacing props\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  // Transform props\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  transformPerspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  // Misc\n  zIndex: int,\n  filter,\n  WebkitFilter: filter,\n  // SVG\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\nconst getValueType = key => valueTypes[key];\nfunction getValueAsType(value, type) {\n  return type && typeof value === \"number\" && type.transform ? type.transform(value) : value;\n}\nfunction getAnimatableNone(key, value) {\n  let defaultValueType = getValueType(key);\n  if (defaultValueType !== filter) defaultValueType = complex;\n  return defaultValueType.getAnimatableNone ? defaultValueType.getAnimatableNone(value) : void 0;\n}\nconst easingLookup = {\n  linear,\n  easeIn,\n  easeInOut,\n  easeOut,\n  circIn,\n  circInOut,\n  circOut,\n  backIn,\n  backInOut,\n  backOut,\n  anticipate,\n  bounceIn,\n  bounceInOut,\n  bounceOut\n};\nfunction easingDefinitionToFunction(definition) {\n  if (Array.isArray(definition)) {\n    const [x1, y1, x2, y2] = definition;\n    return cubicBezier(x1, y1, x2, y2);\n  } else if (typeof definition === \"string\") {\n    return easingLookup[definition];\n  }\n  return definition;\n}\nfunction isEasingArray(ease) {\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\n}\nfunction isAnimatable(key, value) {\n  if (key === \"zIndex\") return false;\n  if (typeof value === \"number\" || Array.isArray(value)) return true;\n  if (typeof value === \"string\" && complex.test(value) && !value.startsWith(\"url(\")) {\n    return true;\n  }\n  return false;\n}\nfunction hydrateKeyframes(options) {\n  if (Array.isArray(options.to) && options.to[0] === null) {\n    options.to = [...options.to];\n    options.to[0] = options.from;\n  }\n  return options;\n}\nfunction convertTransitionToAnimationOptions({\n  ease,\n  times,\n  delay,\n  ...transition\n}) {\n  const options = {\n    ...transition\n  };\n  if (times) options.offset = times;\n  if (ease) {\n    options.ease = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\n  }\n  if (delay) options.elapsed = -delay;\n  return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n  if (Array.isArray(options.to)) {\n    if (!transition.duration) transition.duration = 800;\n  }\n  hydrateKeyframes(options);\n  if (!isTransitionDefined(transition)) {\n    transition = {\n      ...transition,\n      ...getDefaultTransition(key, options.to)\n    };\n  }\n  return {\n    ...options,\n    ...convertTransitionToAnimationOptions(transition)\n  };\n}\nfunction isTransitionDefined({\n  delay,\n  repeat,\n  repeatType,\n  repeatDelay,\n  from,\n  ...transition\n}) {\n  return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n  return transition[key] || transition.default || transition;\n}\nfunction getAnimation(key, value, target, transition, onComplete) {\n  const valueTransition = getValueTransition(transition, key);\n  let origin = valueTransition.from === null || valueTransition.from === void 0 ? value.get() : valueTransition.from;\n  const isTargetAnimatable = isAnimatable(key, target);\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") origin = getAnimatableNone(key, target);\n  const isOriginAnimatable = isAnimatable(key, origin);\n  function start(complete) {\n    const options = {\n      from: origin,\n      to: target,\n      velocity: transition.velocity ? transition.velocity : value.getVelocity(),\n      onUpdate: v => value.set(v)\n    };\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia({\n      ...options,\n      ...valueTransition\n    }) : animate({\n      ...getPopmotionAnimationOptions(valueTransition, options, key),\n      onUpdate: v => {\n        options.onUpdate(v);\n        if (valueTransition.onUpdate) valueTransition.onUpdate(v);\n      },\n      onComplete: () => {\n        if (onComplete) onComplete();\n        if (complete) complete();\n      }\n    });\n  }\n  function set(complete) {\n    value.set(target);\n    if (onComplete) onComplete();\n    if (complete) complete();\n    return {\n      stop: () => {}\n    };\n  }\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\n}\nfunction useMotionTransitions() {\n  const {\n    motionValues,\n    stop,\n    get\n  } = useMotionValues();\n  const push = (key, value, target, transition = {}, onComplete) => {\n    const from = target[key];\n    const motionValue = get(key, from, target);\n    if (transition && transition.immediate) {\n      motionValue.set(value);\n      return;\n    }\n    const animation = getAnimation(key, motionValue, value, transition, onComplete);\n    motionValue.start(animation);\n  };\n  return {\n    motionValues,\n    stop,\n    push\n  };\n}\nfunction useMotionControls(motionProperties, variants = {}, {\n  motionValues,\n  push,\n  stop\n} = useMotionTransitions()) {\n  const _variants = unref(variants);\n  const isAnimating = ref(false);\n  watch(motionValues, newVal => {\n    isAnimating.value = Object.values(newVal).filter(value => value.isAnimating()).length > 0;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  const getVariantFromKey = variant => {\n    if (!_variants || !_variants[variant]) throw new Error(`The variant ${variant} does not exist.`);\n    return _variants[variant];\n  };\n  const apply = variant => {\n    if (typeof variant === \"string\") variant = getVariantFromKey(variant);\n    const animations = Object.entries(variant).map(([key, value]) => {\n      if (key === \"transition\") return void 0;\n      return new Promise(resolve =>\n      // @ts-expect-error - Fix errors later for typescript 5\n      push(key, value, motionProperties, variant.transition || getDefaultTransition(key, variant[key]), resolve));\n    }).filter(Boolean);\n    async function waitForComplete() {\n      await Promise.all(animations);\n      variant.transition?.onComplete?.();\n    }\n    return Promise.all([waitForComplete()]);\n  };\n  const set = variant => {\n    const variantData = isObject$1(variant) ? variant : getVariantFromKey(variant);\n    Object.entries(variantData).forEach(([key, value]) => {\n      if (key === \"transition\") return;\n      push(key, value, motionProperties, {\n        immediate: true\n      });\n    });\n  };\n  const leave = async done => {\n    let leaveVariant;\n    if (_variants) {\n      if (_variants.leave) leaveVariant = _variants.leave;\n      if (!_variants.leave && _variants.initial) leaveVariant = _variants.initial;\n    }\n    if (!leaveVariant) {\n      done();\n      return;\n    }\n    await apply(leaveVariant);\n    done();\n  };\n  return {\n    isAnimating,\n    apply,\n    set,\n    leave,\n    stop\n  };\n}\nconst isBrowser = typeof window !== \"undefined\";\nconst supportsPointerEvents = () => isBrowser && (window.onpointerdown === null || import.meta.env?.TEST);\nconst supportsTouchEvents = () => isBrowser && (window.ontouchstart === null || import.meta.env?.TEST);\nconst supportsMouseEvents = () => isBrowser && (window.onmousedown === null || import.meta.env?.TEST);\nfunction registerEventListeners({\n  target,\n  state,\n  variants,\n  apply\n}) {\n  const _variants = unref(variants);\n  const hovered = ref(false);\n  const tapped = ref(false);\n  const focused = ref(false);\n  const mutableKeys = computed(() => {\n    let result = [...Object.keys(state.value || {})];\n    if (!_variants) return result;\n    if (_variants.hovered) result = [...result, ...Object.keys(_variants.hovered)];\n    if (_variants.tapped) result = [...result, ...Object.keys(_variants.tapped)];\n    if (_variants.focused) result = [...result, ...Object.keys(_variants.focused)];\n    return result;\n  });\n  const computedProperties = computed(() => {\n    const result = {};\n    Object.assign(result, state.value);\n    if (hovered.value && _variants.hovered) Object.assign(result, _variants.hovered);\n    if (tapped.value && _variants.tapped) Object.assign(result, _variants.tapped);\n    if (focused.value && _variants.focused) Object.assign(result, _variants.focused);\n    for (const key in result) {\n      if (!mutableKeys.value.includes(key)) delete result[key];\n    }\n    return result;\n  });\n  if (_variants.hovered) {\n    useEventListener(target, \"mouseenter\", () => hovered.value = true);\n    useEventListener(target, \"mouseleave\", () => {\n      hovered.value = false;\n      tapped.value = false;\n    });\n  }\n  if (_variants.tapped) {\n    if (supportsMouseEvents()) {\n      useEventListener(target, \"mousedown\", () => tapped.value = true);\n      useEventListener(target, \"mouseup\", () => tapped.value = false);\n    }\n    if (supportsPointerEvents()) {\n      useEventListener(target, \"pointerdown\", () => tapped.value = true);\n      useEventListener(target, \"pointerup\", () => tapped.value = false);\n    }\n    if (supportsTouchEvents()) {\n      useEventListener(target, \"touchstart\", () => tapped.value = true);\n      useEventListener(target, \"touchend\", () => tapped.value = false);\n    }\n  }\n  if (_variants.focused) {\n    useEventListener(target, \"focus\", () => focused.value = true);\n    useEventListener(target, \"blur\", () => focused.value = false);\n  }\n  watch([hovered, tapped, focused], () => {\n    apply(computedProperties.value);\n  });\n}\nfunction registerLifeCycleHooks({\n  set,\n  target,\n  variants,\n  variant\n}) {\n  const _variants = unref(variants);\n  watch(() => target, () => {\n    if (!_variants) return;\n    if (_variants.initial) {\n      set(\"initial\");\n      variant.value = \"initial\";\n    }\n    if (_variants.enter) variant.value = \"enter\";\n  }, {\n    immediate: true,\n    flush: \"pre\"\n  });\n}\nfunction registerVariantsSync({\n  state,\n  apply\n}) {\n  watch(state, newVal => {\n    if (newVal) apply(newVal);\n  }, {\n    immediate: true\n  });\n}\nfunction registerVisibilityHooks({\n  target,\n  variants,\n  variant\n}) {\n  const _variants = unref(variants);\n  if (_variants && (_variants.visible || _variants.visibleOnce)) {\n    useIntersectionObserver(target, ([{\n      isIntersecting\n    }]) => {\n      if (_variants.visible) {\n        if (isIntersecting) variant.value = \"visible\";else variant.value = \"initial\";\n      } else if (_variants.visibleOnce) {\n        if (isIntersecting && variant.value !== \"visibleOnce\") variant.value = \"visibleOnce\";else if (!variant.value) variant.value = \"initial\";\n      }\n    });\n  }\n}\nfunction useMotionFeatures(instance, options = {\n  syncVariants: true,\n  lifeCycleHooks: true,\n  visibilityHooks: true,\n  eventListeners: true\n}) {\n  if (options.lifeCycleHooks) registerLifeCycleHooks(instance);\n  if (options.syncVariants) registerVariantsSync(instance);\n  if (options.visibilityHooks) registerVisibilityHooks(instance);\n  if (options.eventListeners) registerEventListeners(instance);\n}\nfunction reactiveStyle(props = {}) {\n  const state = reactive({\n    ...props\n  });\n  const style = ref({});\n  watch(state, () => {\n    const result = {};\n    for (const [key, value] of Object.entries(state)) {\n      const valueType = getValueType(key);\n      const valueAsType = getValueAsType(value, valueType);\n      result[key] = valueAsType;\n    }\n    style.value = result;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    state,\n    style\n  };\n}\nfunction usePermissiveTarget(target, onTarget) {\n  watch(() => unrefElement(target), el => {\n    if (!el) return;\n    onTarget(el);\n  }, {\n    immediate: true\n  });\n}\nconst translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\"\n};\nfunction reactiveTransform(props = {}, enableHardwareAcceleration = true) {\n  const state = reactive({\n    ...props\n  });\n  const transform = ref(\"\");\n  watch(state, newVal => {\n    let result = \"\";\n    let hasHardwareAcceleration = false;\n    if (enableHardwareAcceleration && (newVal.x || newVal.y || newVal.z)) {\n      const str = [newVal.x || 0, newVal.y || 0, newVal.z || 0].map(val => getValueAsType(val, px)).join(\",\");\n      result += `translate3d(${str}) `;\n      hasHardwareAcceleration = true;\n    }\n    for (const [key, value] of Object.entries(newVal)) {\n      if (enableHardwareAcceleration && (key === \"x\" || key === \"y\" || key === \"z\")) continue;\n      const valueType = getValueType(key);\n      const valueAsType = getValueAsType(value, valueType);\n      result += `${translateAlias[key] || key}(${valueAsType}) `;\n    }\n    if (enableHardwareAcceleration && !hasHardwareAcceleration) result += \"translateZ(0px) \";\n    transform.value = result.trim();\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    state,\n    transform\n  };\n}\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\nconst order = [\"perspective\", \"translate\", \"scale\", \"rotate\", \"skew\"];\nconst transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(operationKey => {\n  transformAxes.forEach(axesKey => {\n    const key = operationKey + axesKey;\n    transformProps.push(key);\n  });\n});\nconst transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n  return transformPropSet.has(key);\n}\nconst transformOriginProps = /* @__PURE__ */new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\nfunction splitValues(variant) {\n  const transform = {};\n  const style = {};\n  Object.entries(variant).forEach(([key, value]) => {\n    if (isTransformProp(key) || isTransformOriginProp(key)) transform[key] = value;else style[key] = value;\n  });\n  return {\n    transform,\n    style\n  };\n}\nfunction variantToStyle(variant) {\n  const {\n    transform: _transform,\n    style: _style\n  } = splitValues(variant);\n  const {\n    transform\n  } = reactiveTransform(_transform);\n  const {\n    style\n  } = reactiveStyle(_style);\n  if (transform.value) style.value.transform = transform.value;\n  return style.value;\n}\nfunction useElementStyle(target, onInit) {\n  let _cache;\n  let _target;\n  const {\n    state,\n    style\n  } = reactiveStyle();\n  usePermissiveTarget(target, el => {\n    _target = el;\n    for (const key of Object.keys(valueTypes)) {\n      if (el.style[key] === null || el.style[key] === \"\" || isTransformProp(key) || isTransformOriginProp(key)) continue;\n      state[key] = el.style[key];\n    }\n    if (_cache) {\n      Object.entries(_cache).forEach(([key, value]) => el.style[key] = value);\n    }\n    if (onInit) onInit(state);\n  });\n  watch(style, newVal => {\n    if (!_target) {\n      _cache = newVal;\n      return;\n    }\n    for (const key in newVal) _target.style[key] = newVal[key];\n  }, {\n    immediate: true\n  });\n  return {\n    style: state\n  };\n}\nfunction parseTransform(transform) {\n  const transforms = transform.trim().split(/\\) |\\)/);\n  if (transforms.length === 1) return {};\n  const parseValues = value => {\n    if (value.endsWith(\"px\") || value.endsWith(\"deg\")) return Number.parseFloat(value);\n    if (Number.isNaN(Number(value))) return Number(value);\n    return value;\n  };\n  return transforms.reduce((acc, transform2) => {\n    if (!transform2) return acc;\n    const [name, transformValue] = transform2.split(\"(\");\n    const valueArray = transformValue.split(\",\");\n    const values = valueArray.map(val => {\n      return parseValues(val.endsWith(\")\") ? val.replace(\")\", \"\") : val.trim());\n    });\n    const value = values.length === 1 ? values[0] : values;\n    return {\n      ...acc,\n      [name]: value\n    };\n  }, {});\n}\nfunction stateFromTransform(state, transform) {\n  Object.entries(parseTransform(transform)).forEach(([key, value]) => {\n    const axes = [\"x\", \"y\", \"z\"];\n    if (key === \"translate3d\") {\n      if (value === 0) {\n        axes.forEach(axis => state[axis] = 0);\n        return;\n      }\n      value.forEach((axisValue, index) => state[axes[index]] = axisValue);\n      return;\n    }\n    value = Number.parseFloat(`${value}`);\n    if (key === \"translateX\") {\n      state.x = value;\n      return;\n    }\n    if (key === \"translateY\") {\n      state.y = value;\n      return;\n    }\n    if (key === \"translateZ\") {\n      state.z = value;\n      return;\n    }\n    state[key] = value;\n  });\n}\nfunction useElementTransform(target, onInit) {\n  let _cache;\n  let _target;\n  const {\n    state,\n    transform\n  } = reactiveTransform();\n  usePermissiveTarget(target, el => {\n    _target = el;\n    if (el.style.transform) stateFromTransform(state, el.style.transform);\n    if (_cache) el.style.transform = _cache;\n    if (onInit) onInit(state);\n  });\n  watch(transform, newValue => {\n    if (!_target) {\n      _cache = newValue;\n      return;\n    }\n    _target.style.transform = newValue;\n  }, {\n    immediate: true\n  });\n  return {\n    transform: state\n  };\n}\nfunction objectEntries(obj) {\n  return Object.entries(obj);\n}\nfunction useMotionProperties(target, defaultValues) {\n  const motionProperties = reactive({});\n  const apply = values => Object.entries(values).forEach(([key, value]) => motionProperties[key] = value);\n  const {\n    style\n  } = useElementStyle(target, apply);\n  const {\n    transform\n  } = useElementTransform(target, apply);\n  watch(motionProperties, newVal => {\n    objectEntries(newVal).forEach(([key, value]) => {\n      const target2 = isTransformProp(key) ? transform : style;\n      if (target2[key] && target2[key] === value) return;\n      target2[key] = value;\n    });\n  }, {\n    immediate: true,\n    deep: true\n  });\n  usePermissiveTarget(target, () => defaultValues && apply(defaultValues));\n  return {\n    motionProperties,\n    style,\n    transform\n  };\n}\nfunction useMotionVariants(variants = {}) {\n  const _variants = unref(variants);\n  const variant = ref();\n  const state = computed(() => {\n    if (!variant.value) return;\n    return _variants[variant.value];\n  });\n  return {\n    state,\n    variant\n  };\n}\nfunction useMotion(target, variants = {}, options) {\n  const {\n    motionProperties\n  } = useMotionProperties(target);\n  const {\n    variant,\n    state\n  } = useMotionVariants(variants);\n  const controls = useMotionControls(motionProperties, variants);\n  const instance = {\n    target,\n    variant,\n    variants,\n    state,\n    motionProperties,\n    ...controls\n  };\n  useMotionFeatures(instance, options);\n  return instance;\n}\nconst transitionKeys = [\"delay\", \"duration\"];\nconst directivePropsKeys = [\"initial\", \"enter\", \"leave\", \"visible\", \"visible-once\", \"visibleOnce\", \"hovered\", \"tapped\", \"focused\", ...transitionKeys];\nfunction isTransitionKey(val) {\n  return transitionKeys.includes(val);\n}\nfunction resolveVariants(node, variantsRef) {\n  const target = node.props ? node.props : node.data && node.data.attrs ? node.data.attrs : {};\n  if (target) {\n    if (target.variants && isObject$1(target.variants)) {\n      variantsRef.value = {\n        ...variantsRef.value,\n        ...target.variants\n      };\n    }\n    for (let key of directivePropsKeys) {\n      if (!target || !target[key]) continue;\n      if (isTransitionKey(key) && typeof target[key] === \"number\") {\n        for (const variantKey of [\"enter\", \"visible\", \"visibleOnce\"]) {\n          const variantConfig = variantsRef.value[variantKey];\n          if (variantConfig == null) continue;\n          variantConfig.transition ??= {};\n          variantConfig.transition[key] = target[key];\n        }\n        continue;\n      }\n      if (isObject$1(target[key])) {\n        const prop = target[key];\n        if (key === \"visible-once\") key = \"visibleOnce\";\n        variantsRef.value[key] = prop;\n      }\n    }\n  }\n}\nfunction directive(variants, isPreset = false) {\n  const register = (el, binding, node) => {\n    const key = binding.value && typeof binding.value === \"string\" ? binding.value : node.key;\n    if (key && motionState[key]) motionState[key].stop();\n    const variantsObject = isPreset ? structuredClone(toRaw(variants) || {}) : variants || {};\n    const variantsRef = ref(variantsObject);\n    if (typeof binding.value === \"object\") variantsRef.value = binding.value;\n    resolveVariants(node, variantsRef);\n    const motionOptions = {\n      eventListeners: true,\n      lifeCycleHooks: true,\n      syncVariants: true,\n      visibilityHooks: false\n    };\n    const motionInstance = useMotion(el, variantsRef, motionOptions);\n    el.motionInstance = motionInstance;\n    if (key) motionState[key] = motionInstance;\n  };\n  const mounted = (el, _binding, _node) => {\n    el.motionInstance && registerVisibilityHooks(el.motionInstance);\n  };\n  return {\n    created: register,\n    mounted,\n    getSSRProps(binding, node) {\n      let {\n        initial: bindingInitial\n      } = binding.value || node && node?.props || {};\n      bindingInitial = unref(bindingInitial);\n      const initial = defu({}, variants?.initial || {}, bindingInitial || {});\n      if (!initial || Object.keys(initial).length === 0) return;\n      const style = variantToStyle(initial);\n      return {\n        style\n      };\n    }\n  };\n}\nconst fade = {\n  initial: {\n    opacity: 0\n  },\n  enter: {\n    opacity: 1\n  }\n};\nconst fadeVisible = {\n  initial: {\n    opacity: 0\n  },\n  visible: {\n    opacity: 1\n  }\n};\nconst fadeVisibleOnce = {\n  initial: {\n    opacity: 0\n  },\n  visibleOnce: {\n    opacity: 1\n  }\n};\nconst pop = {\n  initial: {\n    scale: 0,\n    opacity: 0\n  },\n  enter: {\n    scale: 1,\n    opacity: 1\n  }\n};\nconst popVisible = {\n  initial: {\n    scale: 0,\n    opacity: 0\n  },\n  visible: {\n    scale: 1,\n    opacity: 1\n  }\n};\nconst popVisibleOnce = {\n  initial: {\n    scale: 0,\n    opacity: 0\n  },\n  visibleOnce: {\n    scale: 1,\n    opacity: 1\n  }\n};\nconst rollLeft = {\n  initial: {\n    x: -100,\n    rotate: 90,\n    opacity: 0\n  },\n  enter: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleLeft = {\n  initial: {\n    x: -100,\n    rotate: 90,\n    opacity: 0\n  },\n  visible: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleOnceLeft = {\n  initial: {\n    x: -100,\n    rotate: 90,\n    opacity: 0\n  },\n  visibleOnce: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollRight = {\n  initial: {\n    x: 100,\n    rotate: -90,\n    opacity: 0\n  },\n  enter: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleRight = {\n  initial: {\n    x: 100,\n    rotate: -90,\n    opacity: 0\n  },\n  visible: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleOnceRight = {\n  initial: {\n    x: 100,\n    rotate: -90,\n    opacity: 0\n  },\n  visibleOnce: {\n    x: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollTop = {\n  initial: {\n    y: -100,\n    rotate: -90,\n    opacity: 0\n  },\n  enter: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleTop = {\n  initial: {\n    y: -100,\n    rotate: -90,\n    opacity: 0\n  },\n  visible: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleOnceTop = {\n  initial: {\n    y: -100,\n    rotate: -90,\n    opacity: 0\n  },\n  visibleOnce: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollBottom = {\n  initial: {\n    y: 100,\n    rotate: 90,\n    opacity: 0\n  },\n  enter: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleBottom = {\n  initial: {\n    y: 100,\n    rotate: 90,\n    opacity: 0\n  },\n  visible: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst rollVisibleOnceBottom = {\n  initial: {\n    y: 100,\n    rotate: 90,\n    opacity: 0\n  },\n  visibleOnce: {\n    y: 0,\n    rotate: 0,\n    opacity: 1\n  }\n};\nconst slideLeft = {\n  initial: {\n    x: -100,\n    opacity: 0\n  },\n  enter: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleLeft = {\n  initial: {\n    x: -100,\n    opacity: 0\n  },\n  visible: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleOnceLeft = {\n  initial: {\n    x: -100,\n    opacity: 0\n  },\n  visibleOnce: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideRight = {\n  initial: {\n    x: 100,\n    opacity: 0\n  },\n  enter: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleRight = {\n  initial: {\n    x: 100,\n    opacity: 0\n  },\n  visible: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleOnceRight = {\n  initial: {\n    x: 100,\n    opacity: 0\n  },\n  visibleOnce: {\n    x: 0,\n    opacity: 1\n  }\n};\nconst slideTop = {\n  initial: {\n    y: -100,\n    opacity: 0\n  },\n  enter: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleTop = {\n  initial: {\n    y: -100,\n    opacity: 0\n  },\n  visible: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleOnceTop = {\n  initial: {\n    y: -100,\n    opacity: 0\n  },\n  visibleOnce: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst slideBottom = {\n  initial: {\n    y: 100,\n    opacity: 0\n  },\n  enter: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleBottom = {\n  initial: {\n    y: 100,\n    opacity: 0\n  },\n  visible: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst slideVisibleOnceBottom = {\n  initial: {\n    y: 100,\n    opacity: 0\n  },\n  visibleOnce: {\n    y: 0,\n    opacity: 1\n  }\n};\nconst presets = {\n  __proto__: null,\n  fade: fade,\n  fadeVisible: fadeVisible,\n  fadeVisibleOnce: fadeVisibleOnce,\n  pop: pop,\n  popVisible: popVisible,\n  popVisibleOnce: popVisibleOnce,\n  rollBottom: rollBottom,\n  rollLeft: rollLeft,\n  rollRight: rollRight,\n  rollTop: rollTop,\n  rollVisibleBottom: rollVisibleBottom,\n  rollVisibleLeft: rollVisibleLeft,\n  rollVisibleOnceBottom: rollVisibleOnceBottom,\n  rollVisibleOnceLeft: rollVisibleOnceLeft,\n  rollVisibleOnceRight: rollVisibleOnceRight,\n  rollVisibleOnceTop: rollVisibleOnceTop,\n  rollVisibleRight: rollVisibleRight,\n  rollVisibleTop: rollVisibleTop,\n  slideBottom: slideBottom,\n  slideLeft: slideLeft,\n  slideRight: slideRight,\n  slideTop: slideTop,\n  slideVisibleBottom: slideVisibleBottom,\n  slideVisibleLeft: slideVisibleLeft,\n  slideVisibleOnceBottom: slideVisibleOnceBottom,\n  slideVisibleOnceLeft: slideVisibleOnceLeft,\n  slideVisibleOnceRight: slideVisibleOnceRight,\n  slideVisibleOnceTop: slideVisibleOnceTop,\n  slideVisibleRight: slideVisibleRight,\n  slideVisibleTop: slideVisibleTop\n};\nfunction slugify(str) {\n  const a = \"\\xE0\\xE1\\xE2\\xE4\\xE6\\xE3\\xE5\\u0101\\u0103\\u0105\\xE7\\u0107\\u010D\\u0111\\u010F\\xE8\\xE9\\xEA\\xEB\\u0113\\u0117\\u0119\\u011B\\u011F\\u01F5\\u1E27\\xEE\\xEF\\xED\\u012B\\u012F\\xEC\\u0142\\u1E3F\\xF1\\u0144\\u01F9\\u0148\\xF4\\xF6\\xF2\\xF3\\u0153\\xF8\\u014D\\xF5\\u0151\\u1E55\\u0155\\u0159\\xDF\\u015B\\u0161\\u015F\\u0219\\u0165\\u021B\\xFB\\xFC\\xF9\\xFA\\u016B\\u01D8\\u016F\\u0171\\u0173\\u1E83\\u1E8D\\xFF\\xFD\\u017E\\u017A\\u017C\\xB7/_,:;\";\n  const b = \"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n  return str.toString().replace(/[A-Z]/g, s => `-${s}`).toLowerCase().replace(/\\s+/g, \"-\").replace(p, c => b.charAt(a.indexOf(c))).replace(/&/g, \"-and-\").replace(/[^\\w\\-]+/g, \"\").replace(/-{2,}/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\");\n}\nconst CUSTOM_PRESETS = Symbol(import.meta.env?.MODE === \"development\" ? \"motionCustomPresets\" : \"\");\nconst MotionComponentProps = {\n  // Preset to be loaded\n  preset: {\n    type: String,\n    required: false\n  },\n  // Instance\n  instance: {\n    type: Object,\n    required: false\n  },\n  // Variants\n  variants: {\n    type: Object,\n    required: false\n  },\n  // Initial variant\n  initial: {\n    type: Object,\n    required: false\n  },\n  // Lifecycle hooks variants\n  enter: {\n    type: Object,\n    required: false\n  },\n  leave: {\n    type: Object,\n    required: false\n  },\n  // Intersection observer variants\n  visible: {\n    type: Object,\n    required: false\n  },\n  visibleOnce: {\n    type: Object,\n    required: false\n  },\n  // Event listeners variants\n  hovered: {\n    type: Object,\n    required: false\n  },\n  tapped: {\n    type: Object,\n    required: false\n  },\n  focused: {\n    type: Object,\n    required: false\n  },\n  // Helpers\n  delay: {\n    type: [Number, String],\n    required: false\n  },\n  duration: {\n    type: [Number, String],\n    required: false\n  }\n};\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === \"[object Object]\";\n}\nfunction clone(v) {\n  if (Array.isArray(v)) {\n    return v.map(clone);\n  }\n  if (isObject(v)) {\n    const res = {};\n    for (const key in v) {\n      res[key] = clone(v[key]);\n    }\n    return res;\n  }\n  return v;\n}\nfunction setupMotionComponent(props) {\n  const instances = reactive({});\n  const customPresets = inject(CUSTOM_PRESETS, {});\n  const preset = computed(() => {\n    if (props.preset == null) {\n      return {};\n    }\n    if (customPresets != null && props.preset in customPresets) {\n      return structuredClone(toRaw(customPresets)[props.preset]);\n    }\n    if (props.preset in presets) {\n      return structuredClone(presets[props.preset]);\n    }\n    return {};\n  });\n  const propsConfig = computed(() => ({\n    initial: props.initial,\n    enter: props.enter,\n    leave: props.leave,\n    visible: props.visible,\n    visibleOnce: props.visibleOnce,\n    hovered: props.hovered,\n    tapped: props.tapped,\n    focused: props.focused\n  }));\n  function applyTransitionHelpers(config, values) {\n    for (const transitionKey of [\"delay\", \"duration\"]) {\n      if (values[transitionKey] == null) continue;\n      const transitionValueParsed = Number.parseInt(values[transitionKey]);\n      for (const variantKey of [\"enter\", \"visible\", \"visibleOnce\"]) {\n        const variantConfig = config[variantKey];\n        if (variantConfig == null) continue;\n        variantConfig.transition ??= {};\n        variantConfig.transition[transitionKey] = transitionValueParsed;\n      }\n    }\n    return config;\n  }\n  const motionConfig = computed(() => {\n    const config = defu({}, propsConfig.value, preset.value, props.variants || {});\n    return applyTransitionHelpers({\n      ...config\n    }, props);\n  });\n  if (import.meta.env?.MODE === \"development\") {\n    if (props.preset != null && presets?.[props.preset] == null && customPresets?.[props.preset] == null) {\n      console.warn(`[@vueuse/motion]: Preset \\`${props.preset}\\` not found.`);\n    }\n    const replayAnimation = instance => {\n      if (instance.variants?.initial) {\n        instance.set(\"initial\");\n      }\n      nextTick(() => {\n        if (instance.variants?.enter) instance.apply(\"enter\");\n        if (instance.variants?.visible) instance.apply(\"visible\");\n        if (instance.variants?.visibleOnce) instance.apply(\"visibleOnce\");\n      });\n    };\n    onUpdated(() => {\n      for (const key in instances) {\n        replayAnimation(instances[key]);\n      }\n    });\n  }\n  function setNodeInstance(node, index, style) {\n    node.props ??= {};\n    node.props.style ??= {};\n    node.props.style = {\n      ...node.props.style,\n      ...style\n    };\n    const elementMotionConfig = applyTransitionHelpers(clone(motionConfig.value), node.props);\n    node.props.onVnodeMounted = ({\n      el\n    }) => {\n      instances[index] = useMotion(el, elementMotionConfig);\n    };\n    node.props.onVnodeUpdated = ({\n      el\n    }) => {\n      const styles = variantToStyle(instances[index].state);\n      for (const [key, val] of Object.entries(styles)) {\n        el.style[key] = val;\n      }\n    };\n    return node;\n  }\n  return {\n    motionConfig,\n    setNodeInstance\n  };\n}\nconst MotionComponent = defineComponent({\n  name: \"Motion\",\n  props: {\n    ...MotionComponentProps,\n    is: {\n      type: [String, Object],\n      default: \"div\"\n    }\n  },\n  setup(props) {\n    const slots = useSlots();\n    const {\n      motionConfig,\n      setNodeInstance\n    } = setupMotionComponent(props);\n    return () => {\n      const style = variantToStyle(motionConfig.value.initial || {});\n      const node = h(props.is, void 0, slots);\n      setNodeInstance(node, 0, style);\n      return node;\n    };\n  }\n});\nconst MotionGroupComponent = defineComponent({\n  name: \"MotionGroup\",\n  props: {\n    ...MotionComponentProps,\n    is: {\n      type: [String, Object],\n      required: false\n    }\n  },\n  setup(props) {\n    const slots = useSlots();\n    const {\n      motionConfig,\n      setNodeInstance\n    } = setupMotionComponent(props);\n    return () => {\n      const style = variantToStyle(motionConfig.value.initial || {});\n      const nodes = slots.default?.() || [];\n      for (let i = 0; i < nodes.length; i++) {\n        const n = nodes[i];\n        if (n.type === Fragment && Array.isArray(n.children)) {\n          n.children.forEach(function setChildInstance(child, index) {\n            if (child == null) return;\n            if (Array.isArray(child)) {\n              setChildInstance(child, index);\n              return;\n            }\n            if (typeof child === \"object\") {\n              setNodeInstance(child, index, style);\n            }\n          });\n        } else {\n          setNodeInstance(n, i, style);\n        }\n      }\n      if (props.is) {\n        return h(props.is, void 0, nodes);\n      }\n      return nodes;\n    };\n  }\n});\nconst MotionPlugin = {\n  install(app, options) {\n    app.directive(\"motion\", directive());\n    if (!options || options && !options.excludePresets) {\n      for (const key in presets) {\n        const preset = presets[key];\n        app.directive(`motion-${slugify(key)}`, directive(preset, true));\n      }\n    }\n    if (options && options.directives) {\n      for (const key in options.directives) {\n        const variants = options.directives[key];\n        if (!variants.initial && import.meta.env?.MODE === \"development\") {\n          console.warn(`Your directive v-motion-${key} is missing initial variant!`);\n        }\n        app.directive(`motion-${key}`, directive(variants, true));\n      }\n    }\n    app.provide(CUSTOM_PRESETS, options?.directives);\n    app.component(\"Motion\", MotionComponent);\n    app.component(\"MotionGroup\", MotionGroupComponent);\n  }\n};\nfunction isMotionInstance(obj) {\n  const _obj = obj;\n  return _obj.apply !== void 0 && typeof _obj.apply === \"function\" && _obj.set !== void 0 && typeof _obj.set === \"function\" && _obj.target !== void 0 && isRef(_obj.target);\n}\nfunction useMotions() {\n  return motionState;\n}\nfunction useSpring(values, spring) {\n  const {\n    stop,\n    get\n  } = useMotionValues();\n  return {\n    values,\n    stop,\n    set: properties => Promise.all(Object.entries(properties).map(([key, value]) => {\n      const motionValue = get(key, values[key], values);\n      return motionValue.start(onComplete => {\n        const options = {\n          type: \"spring\",\n          ...(spring || getDefaultTransition(key, value))\n        };\n        return animate({\n          from: motionValue.get(),\n          to: value,\n          velocity: motionValue.getVelocity(),\n          onUpdate: v => motionValue.set(v),\n          onComplete,\n          ...options\n        });\n      });\n    }))\n  };\n}\nfunction useReducedMotion(options = {}) {\n  const reducedMotion = useMediaQuery(\"(prefers-reduced-motion: reduce)\", options);\n  return computed(() => reducedMotion.value);\n}\nexport { MotionComponent, directive as MotionDirective, MotionGroupComponent, MotionPlugin, fade, fadeVisible, fadeVisibleOnce, isMotionInstance, pop, popVisible, popVisibleOnce, reactiveStyle, reactiveTransform, rollBottom, rollLeft, rollRight, rollTop, rollVisibleBottom, rollVisibleLeft, rollVisibleOnceBottom, rollVisibleOnceLeft, rollVisibleOnceRight, rollVisibleOnceTop, rollVisibleRight, rollVisibleTop, slideBottom, slideLeft, slideRight, slideTop, slideVisibleBottom, slideVisibleLeft, slideVisibleOnceBottom, slideVisibleOnceLeft, slideVisibleOnceRight, slideVisibleOnceTop, slideVisibleRight, slideVisibleTop, slugify, useElementStyle, useElementTransform, useMotion, useMotionControls, useMotionFeatures, useMotionProperties, useMotionTransitions, useMotionVariants, useMotions, useReducedMotion, useSpring };","map":{"version":3,"names":["defu","ref","unref","watch","computed","reactive","toRaw","inject","onUpdated","nextTick","defineComponent","useSlots","h","Fragment","isRef","isObject","isObject$1","useEventListener","useIntersectionObserver","unrefElement","useMediaQuery","tryOnUnmounted","sync","getFrameData","velocityPerSecond","inertia","animate","cubicBezier","bounceOut","bounceInOut","bounceIn","anticipate","backOut","backInOut","backIn","circOut","circInOut","circIn","easeOut","easeInOut","easeIn","linear","number","alpha","filter","px","progressPercentage","degrees","scale","color","complex","motionState","SubscriptionManager","subscriptions","Set","add","handler","delete","notify","a","b","c","size","clear","isFloat","value","Number","isNaN","parseFloat","MotionValue","current","prev","timeDelta","lastUpdated","updateSubscribers","stopAnimation","canTrackVelocity","constructor","init","onChange","subscription","clearListeners","set","v","updateAndNotify","delta","timestamp","postRender","scheduleVelocityCheck","get","getPrevious","getVelocity","velocityCheck","start","animation","stop","Promise","resolve","then","clearAnimation","isAnimating","destroy","getMotionValue","isArray","Array","useMotionValues","motionValues","keys","destroyKey","key","forEach","Object","from","target","motionValue","isKeyframesTarget","underDampedSpring","type","stiffness","damping","restDelta","restSpeed","criticallyDampedSpring","to","Math","sqrt","overDampedSpring","linearTween","ease","duration","keyframes","values","defaultTransitions","default","x","y","z","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","backgroundColor","opacity","getDefaultTransition","valueKey","transitionFactory","int","transform","round","valueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","transformPerspective","originX","originY","originZ","zIndex","WebkitFilter","fillOpacity","strokeOpacity","numOctaves","getValueType","getValueAsType","getAnimatableNone","defaultValueType","easingLookup","easingDefinitionToFunction","definition","x1","y1","x2","y2","isEasingArray","isAnimatable","test","startsWith","hydrateKeyframes","options","convertTransitionToAnimationOptions","times","delay","transition","offset","map","elapsed","getPopmotionAnimationOptions","isTransitionDefined","repeat","repeatType","repeatDelay","length","getValueTransition","getAnimation","onComplete","valueTransition","origin","isTargetAnimatable","isOriginAnimatable","complete","velocity","onUpdate","useMotionTransitions","push","immediate","useMotionControls","motionProperties","variants","_variants","newVal","deep","getVariantFromKey","variant","Error","apply","animations","entries","Boolean","waitForComplete","all","variantData","leave","done","leaveVariant","initial","isBrowser","window","supportsPointerEvents","onpointerdown","import","meta","env","TEST","supportsTouchEvents","ontouchstart","supportsMouseEvents","onmousedown","registerEventListeners","state","hovered","tapped","focused","mutableKeys","result","computedProperties","assign","includes","registerLifeCycleHooks","enter","flush","registerVariantsSync","registerVisibilityHooks","visible","visibleOnce","isIntersecting","useMotionFeatures","instance","syncVariants","lifeCycleHooks","visibilityHooks","eventListeners","reactiveStyle","props","style","valueType","valueAsType","usePermissiveTarget","onTarget","el","translateAlias","reactiveTransform","enableHardwareAcceleration","hasHardwareAcceleration","str","val","join","trim","transformAxes","order","transformProps","operationKey","axesKey","transformPropSet","isTransformProp","has","transformOriginProps","isTransformOriginProp","splitValues","variantToStyle","_transform","_style","useElementStyle","onInit","_cache","_target","parseTransform","transforms","split","parseValues","endsWith","reduce","acc","transform2","name","transformValue","valueArray","replace","stateFromTransform","axes","axis","axisValue","index","useElementTransform","newValue","objectEntries","obj","useMotionProperties","defaultValues","target2","useMotionVariants","useMotion","controls","transitionKeys","directivePropsKeys","isTransitionKey","resolveVariants","node","variantsRef","data","attrs","variantKey","variantConfig","prop","directive","isPreset","register","binding","variantsObject","structuredClone","motionOptions","motionInstance","mounted","_binding","_node","created","getSSRProps","bindingInitial","fade","fadeVisible","fadeVisibleOnce","pop","popVisible","popVisibleOnce","rollLeft","rollVisibleLeft","rollVisibleOnceLeft","rollRight","rollVisibleRight","rollVisibleOnceRight","rollTop","rollVisibleTop","rollVisibleOnceTop","rollBottom","rollVisibleBottom","rollVisibleOnceBottom","slideLeft","slideVisibleLeft","slideVisibleOnceLeft","slideRight","slideVisibleRight","slideVisibleOnceRight","slideTop","slideVisibleTop","slideVisibleOnceTop","slideBottom","slideVisibleBottom","slideVisibleOnceBottom","presets","__proto__","slugify","p","RegExp","toString","s","toLowerCase","charAt","indexOf","CUSTOM_PRESETS","Symbol","MODE","MotionComponentProps","preset","String","required","prototype","call","clone","res","setupMotionComponent","instances","customPresets","propsConfig","applyTransitionHelpers","config","transitionKey","transitionValueParsed","parseInt","motionConfig","console","warn","replayAnimation","setNodeInstance","elementMotionConfig","onVnodeMounted","onVnodeUpdated","styles","MotionComponent","is","setup","slots","MotionGroupComponent","nodes","i","n","children","setChildInstance","child","MotionPlugin","install","app","excludePresets","directives","provide","component","isMotionInstance","_obj","useMotions","useSpring","spring","properties","useReducedMotion","reducedMotion","MotionDirective"],"sources":["C:/projects/Amaze Web/node_modules/@vueuse/motion/dist/index.mjs"],"sourcesContent":["import defu from 'defu';\r\nimport { ref, unref, watch, computed, reactive, toRaw, inject, onUpdated, nextTick, defineComponent, useSlots, h, Fragment, isRef } from 'vue';\r\nimport { isObject as isObject$1, useEventListener, useIntersectionObserver, unrefElement, useMediaQuery } from '@vueuse/core';\r\nimport { tryOnUnmounted } from '@vueuse/shared';\r\nimport sync, { getFrameData } from 'framesync';\r\nimport { velocityPerSecond, inertia, animate, cubicBezier, bounceOut, bounceInOut, bounceIn, anticipate, backOut, backInOut, backIn, circOut, circInOut, circIn, easeOut, easeInOut, easeIn, linear } from 'popmotion';\r\nimport { number, alpha, filter, px, progressPercentage, degrees, scale, color, complex } from 'style-value-types';\r\n\r\nconst motionState = {};\r\n\r\nclass SubscriptionManager {\r\n  subscriptions = /* @__PURE__ */ new Set();\r\n  add(handler) {\r\n    this.subscriptions.add(handler);\r\n    return () => this.subscriptions.delete(handler);\r\n  }\r\n  notify(a, b, c) {\r\n    if (!this.subscriptions.size)\r\n      return;\r\n    for (const handler of this.subscriptions) handler(a, b, c);\r\n  }\r\n  clear() {\r\n    this.subscriptions.clear();\r\n  }\r\n}\r\n\r\nfunction isFloat(value) {\r\n  return !Number.isNaN(Number.parseFloat(value));\r\n}\r\nclass MotionValue {\r\n  /**\r\n   * The current state of the `MotionValue`.\r\n   */\r\n  current;\r\n  /**\r\n   * The previous state of the `MotionValue`.\r\n   */\r\n  prev;\r\n  /**\r\n   * Duration, in milliseconds, since last updating frame.\r\n   */\r\n  timeDelta = 0;\r\n  /**\r\n   * Timestamp of the last time this `MotionValue` was updated.\r\n   */\r\n  lastUpdated = 0;\r\n  /**\r\n   * Functions to notify when the `MotionValue` updates.\r\n   */\r\n  updateSubscribers = new SubscriptionManager();\r\n  /**\r\n   * A reference to the currently-controlling Popmotion animation\r\n   */\r\n  stopAnimation;\r\n  /**\r\n   * Tracks whether this value can output a velocity.\r\n   */\r\n  canTrackVelocity = false;\r\n  /**\r\n   * init - The initiating value\r\n   * config - Optional configuration options\r\n   */\r\n  constructor(init) {\r\n    this.prev = this.current = init;\r\n    this.canTrackVelocity = isFloat(this.current);\r\n  }\r\n  /**\r\n   * Adds a function that will be notified when the `MotionValue` is updated.\r\n   *\r\n   * It returns a function that, when called, will cancel the subscription.\r\n   */\r\n  onChange(subscription) {\r\n    return this.updateSubscribers.add(subscription);\r\n  }\r\n  clearListeners() {\r\n    this.updateSubscribers.clear();\r\n  }\r\n  /**\r\n   * Sets the state of the `MotionValue`.\r\n   *\r\n   * @param v\r\n   * @param render\r\n   */\r\n  set(v) {\r\n    this.updateAndNotify(v);\r\n  }\r\n  /**\r\n   * Update and notify `MotionValue` subscribers.\r\n   *\r\n   * @param v\r\n   * @param render\r\n   */\r\n  updateAndNotify = (v) => {\r\n    this.prev = this.current;\r\n    this.current = v;\r\n    const { delta, timestamp } = getFrameData();\r\n    if (this.lastUpdated !== timestamp) {\r\n      this.timeDelta = delta;\r\n      this.lastUpdated = timestamp;\r\n    }\r\n    sync.postRender(this.scheduleVelocityCheck);\r\n    this.updateSubscribers.notify(this.current);\r\n  };\r\n  /**\r\n   * Returns the latest state of `MotionValue`\r\n   *\r\n   * @returns - The latest state of `MotionValue`\r\n   */\r\n  get() {\r\n    return this.current;\r\n  }\r\n  /**\r\n   * Get previous value.\r\n   *\r\n   * @returns - The previous latest state of `MotionValue`\r\n   */\r\n  getPrevious() {\r\n    return this.prev;\r\n  }\r\n  /**\r\n   * Returns the latest velocity of `MotionValue`\r\n   *\r\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\r\n   */\r\n  getVelocity() {\r\n    return this.canTrackVelocity ? velocityPerSecond(Number.parseFloat(this.current) - Number.parseFloat(this.prev), this.timeDelta) : 0;\r\n  }\r\n  /**\r\n   * Schedule a velocity check for the next frame.\r\n   */\r\n  scheduleVelocityCheck = () => sync.postRender(this.velocityCheck);\r\n  /**\r\n   * Updates `prev` with `current` if the value hasn't been updated this frame.\r\n   * This ensures velocity calculations return `0`.\r\n   */\r\n  velocityCheck = ({ timestamp }) => {\r\n    if (!this.canTrackVelocity)\r\n      this.canTrackVelocity = isFloat(this.current);\r\n    if (timestamp !== this.lastUpdated)\r\n      this.prev = this.current;\r\n  };\r\n  /**\r\n   * Registers a new animation to control this `MotionValue`. Only one\r\n   * animation can drive a `MotionValue` at one time.\r\n   */\r\n  start(animation) {\r\n    this.stop();\r\n    return new Promise((resolve) => {\r\n      const { stop } = animation(resolve);\r\n      this.stopAnimation = stop;\r\n    }).then(() => this.clearAnimation());\r\n  }\r\n  /**\r\n   * Stop the currently active animation.\r\n   */\r\n  stop() {\r\n    if (this.stopAnimation)\r\n      this.stopAnimation();\r\n    this.clearAnimation();\r\n  }\r\n  /**\r\n   * Returns `true` if this value is currently animating.\r\n   */\r\n  isAnimating() {\r\n    return !!this.stopAnimation;\r\n  }\r\n  /**\r\n   * Clear the current animation reference.\r\n   */\r\n  clearAnimation() {\r\n    this.stopAnimation = null;\r\n  }\r\n  /**\r\n   * Destroy and clean up subscribers to this `MotionValue`.\r\n   */\r\n  destroy() {\r\n    this.updateSubscribers.clear();\r\n    this.stop();\r\n  }\r\n}\r\nfunction getMotionValue(init) {\r\n  return new MotionValue(init);\r\n}\r\n\r\nconst { isArray } = Array;\r\nfunction useMotionValues() {\r\n  const motionValues = ref({});\r\n  const stop = (keys) => {\r\n    const destroyKey = (key) => {\r\n      if (!motionValues.value[key])\r\n        return;\r\n      motionValues.value[key].stop();\r\n      motionValues.value[key].destroy();\r\n      delete motionValues.value[key];\r\n    };\r\n    if (keys) {\r\n      if (isArray(keys)) {\r\n        keys.forEach(destroyKey);\r\n      } else {\r\n        destroyKey(keys);\r\n      }\r\n    } else {\r\n      Object.keys(motionValues.value).forEach(destroyKey);\r\n    }\r\n  };\r\n  const get = (key, from, target) => {\r\n    if (motionValues.value[key])\r\n      return motionValues.value[key];\r\n    const motionValue = getMotionValue(from);\r\n    motionValue.onChange((v) => target[key] = v);\r\n    motionValues.value[key] = motionValue;\r\n    return motionValue;\r\n  };\r\n  tryOnUnmounted(stop);\r\n  return {\r\n    motionValues,\r\n    get,\r\n    stop\r\n  };\r\n}\r\n\r\nfunction isKeyframesTarget(v) {\r\n  return Array.isArray(v);\r\n}\r\nfunction underDampedSpring() {\r\n  return {\r\n    type: \"spring\",\r\n    stiffness: 500,\r\n    damping: 25,\r\n    restDelta: 0.5,\r\n    restSpeed: 10\r\n  };\r\n}\r\nfunction criticallyDampedSpring(to) {\r\n  return {\r\n    type: \"spring\",\r\n    stiffness: 550,\r\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\r\n    restDelta: 0.01,\r\n    restSpeed: 10\r\n  };\r\n}\r\nfunction overDampedSpring(to) {\r\n  return {\r\n    type: \"spring\",\r\n    stiffness: 550,\r\n    damping: to === 0 ? 100 : 30,\r\n    restDelta: 0.01,\r\n    restSpeed: 10\r\n  };\r\n}\r\nfunction linearTween() {\r\n  return {\r\n    type: \"keyframes\",\r\n    ease: \"linear\",\r\n    duration: 300\r\n  };\r\n}\r\nfunction keyframes(values) {\r\n  return {\r\n    type: \"keyframes\",\r\n    duration: 800,\r\n    values\r\n  };\r\n}\r\nconst defaultTransitions = {\r\n  default: overDampedSpring,\r\n  x: underDampedSpring,\r\n  y: underDampedSpring,\r\n  z: underDampedSpring,\r\n  rotate: underDampedSpring,\r\n  rotateX: underDampedSpring,\r\n  rotateY: underDampedSpring,\r\n  rotateZ: underDampedSpring,\r\n  scaleX: criticallyDampedSpring,\r\n  scaleY: criticallyDampedSpring,\r\n  scale: criticallyDampedSpring,\r\n  backgroundColor: linearTween,\r\n  color: linearTween,\r\n  opacity: linearTween\r\n};\r\nfunction getDefaultTransition(valueKey, to) {\r\n  let transitionFactory;\r\n  if (isKeyframesTarget(to)) {\r\n    transitionFactory = keyframes;\r\n  } else {\r\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\r\n  }\r\n  return { to, ...transitionFactory(to) };\r\n}\r\n\r\nconst int = {\r\n  ...number,\r\n  transform: Math.round\r\n};\r\nconst valueTypes = {\r\n  // Color props\r\n  color,\r\n  backgroundColor: color,\r\n  outlineColor: color,\r\n  fill: color,\r\n  stroke: color,\r\n  // Border props\r\n  borderColor: color,\r\n  borderTopColor: color,\r\n  borderRightColor: color,\r\n  borderBottomColor: color,\r\n  borderLeftColor: color,\r\n  borderWidth: px,\r\n  borderTopWidth: px,\r\n  borderRightWidth: px,\r\n  borderBottomWidth: px,\r\n  borderLeftWidth: px,\r\n  borderRadius: px,\r\n  radius: px,\r\n  borderTopLeftRadius: px,\r\n  borderTopRightRadius: px,\r\n  borderBottomRightRadius: px,\r\n  borderBottomLeftRadius: px,\r\n  // Positioning props\r\n  width: px,\r\n  maxWidth: px,\r\n  height: px,\r\n  maxHeight: px,\r\n  size: px,\r\n  top: px,\r\n  right: px,\r\n  bottom: px,\r\n  left: px,\r\n  // Spacing props\r\n  padding: px,\r\n  paddingTop: px,\r\n  paddingRight: px,\r\n  paddingBottom: px,\r\n  paddingLeft: px,\r\n  margin: px,\r\n  marginTop: px,\r\n  marginRight: px,\r\n  marginBottom: px,\r\n  marginLeft: px,\r\n  // Transform props\r\n  rotate: degrees,\r\n  rotateX: degrees,\r\n  rotateY: degrees,\r\n  rotateZ: degrees,\r\n  scale,\r\n  scaleX: scale,\r\n  scaleY: scale,\r\n  scaleZ: scale,\r\n  skew: degrees,\r\n  skewX: degrees,\r\n  skewY: degrees,\r\n  distance: px,\r\n  translateX: px,\r\n  translateY: px,\r\n  translateZ: px,\r\n  x: px,\r\n  y: px,\r\n  z: px,\r\n  perspective: px,\r\n  transformPerspective: px,\r\n  opacity: alpha,\r\n  originX: progressPercentage,\r\n  originY: progressPercentage,\r\n  originZ: px,\r\n  // Misc\r\n  zIndex: int,\r\n  filter,\r\n  WebkitFilter: filter,\r\n  // SVG\r\n  fillOpacity: alpha,\r\n  strokeOpacity: alpha,\r\n  numOctaves: int\r\n};\r\nconst getValueType = (key) => valueTypes[key];\r\nfunction getValueAsType(value, type) {\r\n  return type && typeof value === \"number\" && type.transform ? type.transform(value) : value;\r\n}\r\nfunction getAnimatableNone(key, value) {\r\n  let defaultValueType = getValueType(key);\r\n  if (defaultValueType !== filter)\r\n    defaultValueType = complex;\r\n  return defaultValueType.getAnimatableNone ? defaultValueType.getAnimatableNone(value) : void 0;\r\n}\r\n\r\nconst easingLookup = {\r\n  linear,\r\n  easeIn,\r\n  easeInOut,\r\n  easeOut,\r\n  circIn,\r\n  circInOut,\r\n  circOut,\r\n  backIn,\r\n  backInOut,\r\n  backOut,\r\n  anticipate,\r\n  bounceIn,\r\n  bounceInOut,\r\n  bounceOut\r\n};\r\nfunction easingDefinitionToFunction(definition) {\r\n  if (Array.isArray(definition)) {\r\n    const [x1, y1, x2, y2] = definition;\r\n    return cubicBezier(x1, y1, x2, y2);\r\n  } else if (typeof definition === \"string\") {\r\n    return easingLookup[definition];\r\n  }\r\n  return definition;\r\n}\r\nfunction isEasingArray(ease) {\r\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\r\n}\r\nfunction isAnimatable(key, value) {\r\n  if (key === \"zIndex\")\r\n    return false;\r\n  if (typeof value === \"number\" || Array.isArray(value))\r\n    return true;\r\n  if (typeof value === \"string\" && complex.test(value) && !value.startsWith(\"url(\")) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction hydrateKeyframes(options) {\r\n  if (Array.isArray(options.to) && options.to[0] === null) {\r\n    options.to = [...options.to];\r\n    options.to[0] = options.from;\r\n  }\r\n  return options;\r\n}\r\nfunction convertTransitionToAnimationOptions({ ease, times, delay, ...transition }) {\r\n  const options = { ...transition };\r\n  if (times)\r\n    options.offset = times;\r\n  if (ease) {\r\n    options.ease = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\r\n  }\r\n  if (delay)\r\n    options.elapsed = -delay;\r\n  return options;\r\n}\r\nfunction getPopmotionAnimationOptions(transition, options, key) {\r\n  if (Array.isArray(options.to)) {\r\n    if (!transition.duration)\r\n      transition.duration = 800;\r\n  }\r\n  hydrateKeyframes(options);\r\n  if (!isTransitionDefined(transition)) {\r\n    transition = {\r\n      ...transition,\r\n      ...getDefaultTransition(key, options.to)\r\n    };\r\n  }\r\n  return {\r\n    ...options,\r\n    ...convertTransitionToAnimationOptions(transition)\r\n  };\r\n}\r\nfunction isTransitionDefined({ delay, repeat, repeatType, repeatDelay, from, ...transition }) {\r\n  return !!Object.keys(transition).length;\r\n}\r\nfunction getValueTransition(transition, key) {\r\n  return transition[key] || transition.default || transition;\r\n}\r\nfunction getAnimation(key, value, target, transition, onComplete) {\r\n  const valueTransition = getValueTransition(transition, key);\r\n  let origin = valueTransition.from === null || valueTransition.from === void 0 ? value.get() : valueTransition.from;\r\n  const isTargetAnimatable = isAnimatable(key, target);\r\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\")\r\n    origin = getAnimatableNone(key, target);\r\n  const isOriginAnimatable = isAnimatable(key, origin);\r\n  function start(complete) {\r\n    const options = {\r\n      from: origin,\r\n      to: target,\r\n      velocity: transition.velocity ? transition.velocity : value.getVelocity(),\r\n      onUpdate: (v) => value.set(v)\r\n    };\r\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia({ ...options, ...valueTransition }) : animate({\r\n      ...getPopmotionAnimationOptions(valueTransition, options, key),\r\n      onUpdate: (v) => {\r\n        options.onUpdate(v);\r\n        if (valueTransition.onUpdate)\r\n          valueTransition.onUpdate(v);\r\n      },\r\n      onComplete: () => {\r\n        if (onComplete)\r\n          onComplete();\r\n        if (complete)\r\n          complete();\r\n      }\r\n    });\r\n  }\r\n  function set(complete) {\r\n    value.set(target);\r\n    if (onComplete)\r\n      onComplete();\r\n    if (complete)\r\n      complete();\r\n    return { stop: () => {\r\n    } };\r\n  }\r\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\r\n}\r\n\r\nfunction useMotionTransitions() {\r\n  const { motionValues, stop, get } = useMotionValues();\r\n  const push = (key, value, target, transition = {}, onComplete) => {\r\n    const from = target[key];\r\n    const motionValue = get(key, from, target);\r\n    if (transition && transition.immediate) {\r\n      motionValue.set(value);\r\n      return;\r\n    }\r\n    const animation = getAnimation(key, motionValue, value, transition, onComplete);\r\n    motionValue.start(animation);\r\n  };\r\n  return { motionValues, stop, push };\r\n}\r\n\r\nfunction useMotionControls(motionProperties, variants = {}, { motionValues, push, stop } = useMotionTransitions()) {\r\n  const _variants = unref(variants);\r\n  const isAnimating = ref(false);\r\n  watch(\r\n    motionValues,\r\n    (newVal) => {\r\n      isAnimating.value = Object.values(newVal).filter((value) => value.isAnimating()).length > 0;\r\n    },\r\n    {\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  );\r\n  const getVariantFromKey = (variant) => {\r\n    if (!_variants || !_variants[variant])\r\n      throw new Error(`The variant ${variant} does not exist.`);\r\n    return _variants[variant];\r\n  };\r\n  const apply = (variant) => {\r\n    if (typeof variant === \"string\")\r\n      variant = getVariantFromKey(variant);\r\n    const animations = Object.entries(variant).map(([key, value]) => {\r\n      if (key === \"transition\")\r\n        return void 0;\r\n      return new Promise(\r\n        (resolve) => (\r\n          // @ts-expect-error - Fix errors later for typescript 5\r\n          push(key, value, motionProperties, variant.transition || getDefaultTransition(key, variant[key]), resolve)\r\n        )\r\n      );\r\n    }).filter(Boolean);\r\n    async function waitForComplete() {\r\n      await Promise.all(animations);\r\n      variant.transition?.onComplete?.();\r\n    }\r\n    return Promise.all([waitForComplete()]);\r\n  };\r\n  const set = (variant) => {\r\n    const variantData = isObject$1(variant) ? variant : getVariantFromKey(variant);\r\n    Object.entries(variantData).forEach(([key, value]) => {\r\n      if (key === \"transition\")\r\n        return;\r\n      push(key, value, motionProperties, {\r\n        immediate: true\r\n      });\r\n    });\r\n  };\r\n  const leave = async (done) => {\r\n    let leaveVariant;\r\n    if (_variants) {\r\n      if (_variants.leave)\r\n        leaveVariant = _variants.leave;\r\n      if (!_variants.leave && _variants.initial)\r\n        leaveVariant = _variants.initial;\r\n    }\r\n    if (!leaveVariant) {\r\n      done();\r\n      return;\r\n    }\r\n    await apply(leaveVariant);\r\n    done();\r\n  };\r\n  return {\r\n    isAnimating,\r\n    apply,\r\n    set,\r\n    leave,\r\n    stop\r\n  };\r\n}\r\n\r\nconst isBrowser = typeof window !== \"undefined\";\r\nconst supportsPointerEvents = () => isBrowser && (window.onpointerdown === null || import.meta.env?.TEST);\r\nconst supportsTouchEvents = () => isBrowser && (window.ontouchstart === null || import.meta.env?.TEST);\r\nconst supportsMouseEvents = () => isBrowser && (window.onmousedown === null || import.meta.env?.TEST);\r\n\r\nfunction registerEventListeners({ target, state, variants, apply }) {\r\n  const _variants = unref(variants);\r\n  const hovered = ref(false);\r\n  const tapped = ref(false);\r\n  const focused = ref(false);\r\n  const mutableKeys = computed(() => {\r\n    let result = [...Object.keys(state.value || {})];\r\n    if (!_variants)\r\n      return result;\r\n    if (_variants.hovered)\r\n      result = [...result, ...Object.keys(_variants.hovered)];\r\n    if (_variants.tapped)\r\n      result = [...result, ...Object.keys(_variants.tapped)];\r\n    if (_variants.focused)\r\n      result = [...result, ...Object.keys(_variants.focused)];\r\n    return result;\r\n  });\r\n  const computedProperties = computed(() => {\r\n    const result = {};\r\n    Object.assign(result, state.value);\r\n    if (hovered.value && _variants.hovered)\r\n      Object.assign(result, _variants.hovered);\r\n    if (tapped.value && _variants.tapped)\r\n      Object.assign(result, _variants.tapped);\r\n    if (focused.value && _variants.focused)\r\n      Object.assign(result, _variants.focused);\r\n    for (const key in result) {\r\n      if (!mutableKeys.value.includes(key))\r\n        delete result[key];\r\n    }\r\n    return result;\r\n  });\r\n  if (_variants.hovered) {\r\n    useEventListener(target, \"mouseenter\", () => hovered.value = true);\r\n    useEventListener(target, \"mouseleave\", () => {\r\n      hovered.value = false;\r\n      tapped.value = false;\r\n    });\r\n  }\r\n  if (_variants.tapped) {\r\n    if (supportsMouseEvents()) {\r\n      useEventListener(target, \"mousedown\", () => tapped.value = true);\r\n      useEventListener(target, \"mouseup\", () => tapped.value = false);\r\n    }\r\n    if (supportsPointerEvents()) {\r\n      useEventListener(target, \"pointerdown\", () => tapped.value = true);\r\n      useEventListener(target, \"pointerup\", () => tapped.value = false);\r\n    }\r\n    if (supportsTouchEvents()) {\r\n      useEventListener(target, \"touchstart\", () => tapped.value = true);\r\n      useEventListener(target, \"touchend\", () => tapped.value = false);\r\n    }\r\n  }\r\n  if (_variants.focused) {\r\n    useEventListener(target, \"focus\", () => focused.value = true);\r\n    useEventListener(target, \"blur\", () => focused.value = false);\r\n  }\r\n  watch([hovered, tapped, focused], () => {\r\n    apply(computedProperties.value);\r\n  });\r\n}\r\n\r\nfunction registerLifeCycleHooks({ set, target, variants, variant }) {\r\n  const _variants = unref(variants);\r\n  watch(\r\n    () => target,\r\n    () => {\r\n      if (!_variants)\r\n        return;\r\n      if (_variants.initial) {\r\n        set(\"initial\");\r\n        variant.value = \"initial\";\r\n      }\r\n      if (_variants.enter)\r\n        variant.value = \"enter\";\r\n    },\r\n    {\r\n      immediate: true,\r\n      flush: \"pre\"\r\n    }\r\n  );\r\n}\r\n\r\nfunction registerVariantsSync({ state, apply }) {\r\n  watch(\r\n    state,\r\n    (newVal) => {\r\n      if (newVal)\r\n        apply(newVal);\r\n    },\r\n    {\r\n      immediate: true\r\n    }\r\n  );\r\n}\r\n\r\nfunction registerVisibilityHooks({ target, variants, variant }) {\r\n  const _variants = unref(variants);\r\n  if (_variants && (_variants.visible || _variants.visibleOnce)) {\r\n    useIntersectionObserver(target, ([{ isIntersecting }]) => {\r\n      if (_variants.visible) {\r\n        if (isIntersecting)\r\n          variant.value = \"visible\";\r\n        else variant.value = \"initial\";\r\n      } else if (_variants.visibleOnce) {\r\n        if (isIntersecting && variant.value !== \"visibleOnce\")\r\n          variant.value = \"visibleOnce\";\r\n        else if (!variant.value)\r\n          variant.value = \"initial\";\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction useMotionFeatures(instance, options = {\r\n  syncVariants: true,\r\n  lifeCycleHooks: true,\r\n  visibilityHooks: true,\r\n  eventListeners: true\r\n}) {\r\n  if (options.lifeCycleHooks)\r\n    registerLifeCycleHooks(instance);\r\n  if (options.syncVariants)\r\n    registerVariantsSync(instance);\r\n  if (options.visibilityHooks)\r\n    registerVisibilityHooks(instance);\r\n  if (options.eventListeners)\r\n    registerEventListeners(instance);\r\n}\r\n\r\nfunction reactiveStyle(props = {}) {\r\n  const state = reactive({\r\n    ...props\r\n  });\r\n  const style = ref({});\r\n  watch(\r\n    state,\r\n    () => {\r\n      const result = {};\r\n      for (const [key, value] of Object.entries(state)) {\r\n        const valueType = getValueType(key);\r\n        const valueAsType = getValueAsType(value, valueType);\r\n        result[key] = valueAsType;\r\n      }\r\n      style.value = result;\r\n    },\r\n    {\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  );\r\n  return {\r\n    state,\r\n    style\r\n  };\r\n}\r\n\r\nfunction usePermissiveTarget(target, onTarget) {\r\n  watch(\r\n    () => unrefElement(target),\r\n    (el) => {\r\n      if (!el)\r\n        return;\r\n      onTarget(el);\r\n    },\r\n    {\r\n      immediate: true\r\n    }\r\n  );\r\n}\r\n\r\nconst translateAlias = {\r\n  x: \"translateX\",\r\n  y: \"translateY\",\r\n  z: \"translateZ\"\r\n};\r\nfunction reactiveTransform(props = {}, enableHardwareAcceleration = true) {\r\n  const state = reactive({ ...props });\r\n  const transform = ref(\"\");\r\n  watch(\r\n    state,\r\n    (newVal) => {\r\n      let result = \"\";\r\n      let hasHardwareAcceleration = false;\r\n      if (enableHardwareAcceleration && (newVal.x || newVal.y || newVal.z)) {\r\n        const str = [newVal.x || 0, newVal.y || 0, newVal.z || 0].map((val) => getValueAsType(val, px)).join(\",\");\r\n        result += `translate3d(${str}) `;\r\n        hasHardwareAcceleration = true;\r\n      }\r\n      for (const [key, value] of Object.entries(newVal)) {\r\n        if (enableHardwareAcceleration && (key === \"x\" || key === \"y\" || key === \"z\"))\r\n          continue;\r\n        const valueType = getValueType(key);\r\n        const valueAsType = getValueAsType(value, valueType);\r\n        result += `${translateAlias[key] || key}(${valueAsType}) `;\r\n      }\r\n      if (enableHardwareAcceleration && !hasHardwareAcceleration)\r\n        result += \"translateZ(0px) \";\r\n      transform.value = result.trim();\r\n    },\r\n    {\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  );\r\n  return {\r\n    state,\r\n    transform\r\n  };\r\n}\r\n\r\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\r\nconst order = [\"perspective\", \"translate\", \"scale\", \"rotate\", \"skew\"];\r\nconst transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\r\norder.forEach((operationKey) => {\r\n  transformAxes.forEach((axesKey) => {\r\n    const key = operationKey + axesKey;\r\n    transformProps.push(key);\r\n  });\r\n});\r\nconst transformPropSet = new Set(transformProps);\r\nfunction isTransformProp(key) {\r\n  return transformPropSet.has(key);\r\n}\r\nconst transformOriginProps = /* @__PURE__ */ new Set([\"originX\", \"originY\", \"originZ\"]);\r\nfunction isTransformOriginProp(key) {\r\n  return transformOriginProps.has(key);\r\n}\r\nfunction splitValues(variant) {\r\n  const transform = {};\r\n  const style = {};\r\n  Object.entries(variant).forEach(([key, value]) => {\r\n    if (isTransformProp(key) || isTransformOriginProp(key))\r\n      transform[key] = value;\r\n    else style[key] = value;\r\n  });\r\n  return { transform, style };\r\n}\r\nfunction variantToStyle(variant) {\r\n  const { transform: _transform, style: _style } = splitValues(variant);\r\n  const { transform } = reactiveTransform(_transform);\r\n  const { style } = reactiveStyle(_style);\r\n  if (transform.value)\r\n    style.value.transform = transform.value;\r\n  return style.value;\r\n}\r\n\r\nfunction useElementStyle(target, onInit) {\r\n  let _cache;\r\n  let _target;\r\n  const { state, style } = reactiveStyle();\r\n  usePermissiveTarget(target, (el) => {\r\n    _target = el;\r\n    for (const key of Object.keys(valueTypes)) {\r\n      if (el.style[key] === null || el.style[key] === \"\" || isTransformProp(key) || isTransformOriginProp(key))\r\n        continue;\r\n      state[key] = el.style[key];\r\n    }\r\n    if (_cache) {\r\n      Object.entries(_cache).forEach(([key, value]) => el.style[key] = value);\r\n    }\r\n    if (onInit)\r\n      onInit(state);\r\n  });\r\n  watch(\r\n    style,\r\n    (newVal) => {\r\n      if (!_target) {\r\n        _cache = newVal;\r\n        return;\r\n      }\r\n      for (const key in newVal) _target.style[key] = newVal[key];\r\n    },\r\n    {\r\n      immediate: true\r\n    }\r\n  );\r\n  return {\r\n    style: state\r\n  };\r\n}\r\n\r\nfunction parseTransform(transform) {\r\n  const transforms = transform.trim().split(/\\) |\\)/);\r\n  if (transforms.length === 1)\r\n    return {};\r\n  const parseValues = (value) => {\r\n    if (value.endsWith(\"px\") || value.endsWith(\"deg\"))\r\n      return Number.parseFloat(value);\r\n    if (Number.isNaN(Number(value)))\r\n      return Number(value);\r\n    return value;\r\n  };\r\n  return transforms.reduce((acc, transform2) => {\r\n    if (!transform2)\r\n      return acc;\r\n    const [name, transformValue] = transform2.split(\"(\");\r\n    const valueArray = transformValue.split(\",\");\r\n    const values = valueArray.map((val) => {\r\n      return parseValues(val.endsWith(\")\") ? val.replace(\")\", \"\") : val.trim());\r\n    });\r\n    const value = values.length === 1 ? values[0] : values;\r\n    return {\r\n      ...acc,\r\n      [name]: value\r\n    };\r\n  }, {});\r\n}\r\nfunction stateFromTransform(state, transform) {\r\n  Object.entries(parseTransform(transform)).forEach(([key, value]) => {\r\n    const axes = [\"x\", \"y\", \"z\"];\r\n    if (key === \"translate3d\") {\r\n      if (value === 0) {\r\n        axes.forEach((axis) => state[axis] = 0);\r\n        return;\r\n      }\r\n      value.forEach((axisValue, index) => state[axes[index]] = axisValue);\r\n      return;\r\n    }\r\n    value = Number.parseFloat(`${value}`);\r\n    if (key === \"translateX\") {\r\n      state.x = value;\r\n      return;\r\n    }\r\n    if (key === \"translateY\") {\r\n      state.y = value;\r\n      return;\r\n    }\r\n    if (key === \"translateZ\") {\r\n      state.z = value;\r\n      return;\r\n    }\r\n    state[key] = value;\r\n  });\r\n}\r\n\r\nfunction useElementTransform(target, onInit) {\r\n  let _cache;\r\n  let _target;\r\n  const { state, transform } = reactiveTransform();\r\n  usePermissiveTarget(target, (el) => {\r\n    _target = el;\r\n    if (el.style.transform)\r\n      stateFromTransform(state, el.style.transform);\r\n    if (_cache)\r\n      el.style.transform = _cache;\r\n    if (onInit)\r\n      onInit(state);\r\n  });\r\n  watch(\r\n    transform,\r\n    (newValue) => {\r\n      if (!_target) {\r\n        _cache = newValue;\r\n        return;\r\n      }\r\n      _target.style.transform = newValue;\r\n    },\r\n    {\r\n      immediate: true\r\n    }\r\n  );\r\n  return {\r\n    transform: state\r\n  };\r\n}\r\n\r\nfunction objectEntries(obj) {\r\n  return Object.entries(obj);\r\n}\r\n\r\nfunction useMotionProperties(target, defaultValues) {\r\n  const motionProperties = reactive({});\r\n  const apply = (values) => Object.entries(values).forEach(([key, value]) => motionProperties[key] = value);\r\n  const { style } = useElementStyle(target, apply);\r\n  const { transform } = useElementTransform(target, apply);\r\n  watch(\r\n    motionProperties,\r\n    (newVal) => {\r\n      objectEntries(newVal).forEach(([key, value]) => {\r\n        const target2 = isTransformProp(key) ? transform : style;\r\n        if (target2[key] && target2[key] === value)\r\n          return;\r\n        target2[key] = value;\r\n      });\r\n    },\r\n    {\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  );\r\n  usePermissiveTarget(target, () => defaultValues && apply(defaultValues));\r\n  return {\r\n    motionProperties,\r\n    style,\r\n    transform\r\n  };\r\n}\r\n\r\nfunction useMotionVariants(variants = {}) {\r\n  const _variants = unref(variants);\r\n  const variant = ref();\r\n  const state = computed(() => {\r\n    if (!variant.value)\r\n      return;\r\n    return _variants[variant.value];\r\n  });\r\n  return {\r\n    state,\r\n    variant\r\n  };\r\n}\r\n\r\nfunction useMotion(target, variants = {}, options) {\r\n  const { motionProperties } = useMotionProperties(target);\r\n  const { variant, state } = useMotionVariants(variants);\r\n  const controls = useMotionControls(motionProperties, variants);\r\n  const instance = {\r\n    target,\r\n    variant,\r\n    variants,\r\n    state,\r\n    motionProperties,\r\n    ...controls\r\n  };\r\n  useMotionFeatures(instance, options);\r\n  return instance;\r\n}\r\n\r\nconst transitionKeys = [\"delay\", \"duration\"];\r\nconst directivePropsKeys = [\"initial\", \"enter\", \"leave\", \"visible\", \"visible-once\", \"visibleOnce\", \"hovered\", \"tapped\", \"focused\", ...transitionKeys];\r\nfunction isTransitionKey(val) {\r\n  return transitionKeys.includes(val);\r\n}\r\nfunction resolveVariants(node, variantsRef) {\r\n  const target = node.props ? node.props : node.data && node.data.attrs ? node.data.attrs : {};\r\n  if (target) {\r\n    if (target.variants && isObject$1(target.variants)) {\r\n      variantsRef.value = {\r\n        ...variantsRef.value,\r\n        ...target.variants\r\n      };\r\n    }\r\n    for (let key of directivePropsKeys) {\r\n      if (!target || !target[key])\r\n        continue;\r\n      if (isTransitionKey(key) && typeof target[key] === \"number\") {\r\n        for (const variantKey of [\"enter\", \"visible\", \"visibleOnce\"]) {\r\n          const variantConfig = variantsRef.value[variantKey];\r\n          if (variantConfig == null)\r\n            continue;\r\n          variantConfig.transition ??= {};\r\n          variantConfig.transition[key] = target[key];\r\n        }\r\n        continue;\r\n      }\r\n      if (isObject$1(target[key])) {\r\n        const prop = target[key];\r\n        if (key === \"visible-once\")\r\n          key = \"visibleOnce\";\r\n        variantsRef.value[key] = prop;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction directive(variants, isPreset = false) {\r\n  const register = (el, binding, node) => {\r\n    const key = binding.value && typeof binding.value === \"string\" ? binding.value : node.key;\r\n    if (key && motionState[key])\r\n      motionState[key].stop();\r\n    const variantsObject = isPreset ? structuredClone(toRaw(variants) || {}) : variants || {};\r\n    const variantsRef = ref(variantsObject);\r\n    if (typeof binding.value === \"object\")\r\n      variantsRef.value = binding.value;\r\n    resolveVariants(node, variantsRef);\r\n    const motionOptions = { eventListeners: true, lifeCycleHooks: true, syncVariants: true, visibilityHooks: false };\r\n    const motionInstance = useMotion(\r\n      el,\r\n      variantsRef,\r\n      motionOptions\r\n    );\r\n    el.motionInstance = motionInstance;\r\n    if (key)\r\n      motionState[key] = motionInstance;\r\n  };\r\n  const mounted = (el, _binding, _node) => {\r\n    el.motionInstance && registerVisibilityHooks(el.motionInstance);\r\n  };\r\n  return {\r\n    created: register,\r\n    mounted,\r\n    getSSRProps(binding, node) {\r\n      let { initial: bindingInitial } = binding.value || node && node?.props || {};\r\n      bindingInitial = unref(bindingInitial);\r\n      const initial = defu({}, variants?.initial || {}, bindingInitial || {});\r\n      if (!initial || Object.keys(initial).length === 0)\r\n        return;\r\n      const style = variantToStyle(initial);\r\n      return {\r\n        style\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nconst fade = {\r\n  initial: {\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    opacity: 1\r\n  }\r\n};\r\nconst fadeVisible = {\r\n  initial: {\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    opacity: 1\r\n  }\r\n};\r\nconst fadeVisibleOnce = {\r\n  initial: {\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    opacity: 1\r\n  }\r\n};\r\n\r\nconst pop = {\r\n  initial: {\r\n    scale: 0,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    scale: 1,\r\n    opacity: 1\r\n  }\r\n};\r\nconst popVisible = {\r\n  initial: {\r\n    scale: 0,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    scale: 1,\r\n    opacity: 1\r\n  }\r\n};\r\nconst popVisibleOnce = {\r\n  initial: {\r\n    scale: 0,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    scale: 1,\r\n    opacity: 1\r\n  }\r\n};\r\n\r\nconst rollLeft = {\r\n  initial: {\r\n    x: -100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleLeft = {\r\n  initial: {\r\n    x: -100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleOnceLeft = {\r\n  initial: {\r\n    x: -100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollRight = {\r\n  initial: {\r\n    x: 100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleRight = {\r\n  initial: {\r\n    x: 100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleOnceRight = {\r\n  initial: {\r\n    x: 100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    x: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollTop = {\r\n  initial: {\r\n    y: -100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleTop = {\r\n  initial: {\r\n    y: -100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleOnceTop = {\r\n  initial: {\r\n    y: -100,\r\n    rotate: -90,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollBottom = {\r\n  initial: {\r\n    y: 100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleBottom = {\r\n  initial: {\r\n    y: 100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst rollVisibleOnceBottom = {\r\n  initial: {\r\n    y: 100,\r\n    rotate: 90,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    y: 0,\r\n    rotate: 0,\r\n    opacity: 1\r\n  }\r\n};\r\n\r\nconst slideLeft = {\r\n  initial: {\r\n    x: -100,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleLeft = {\r\n  initial: {\r\n    x: -100,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleOnceLeft = {\r\n  initial: {\r\n    x: -100,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideRight = {\r\n  initial: {\r\n    x: 100,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleRight = {\r\n  initial: {\r\n    x: 100,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleOnceRight = {\r\n  initial: {\r\n    x: 100,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    x: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideTop = {\r\n  initial: {\r\n    y: -100,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleTop = {\r\n  initial: {\r\n    y: -100,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleOnceTop = {\r\n  initial: {\r\n    y: -100,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideBottom = {\r\n  initial: {\r\n    y: 100,\r\n    opacity: 0\r\n  },\r\n  enter: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleBottom = {\r\n  initial: {\r\n    y: 100,\r\n    opacity: 0\r\n  },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\nconst slideVisibleOnceBottom = {\r\n  initial: {\r\n    y: 100,\r\n    opacity: 0\r\n  },\r\n  visibleOnce: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\n\r\nconst presets = {\r\n  __proto__: null,\r\n  fade: fade,\r\n  fadeVisible: fadeVisible,\r\n  fadeVisibleOnce: fadeVisibleOnce,\r\n  pop: pop,\r\n  popVisible: popVisible,\r\n  popVisibleOnce: popVisibleOnce,\r\n  rollBottom: rollBottom,\r\n  rollLeft: rollLeft,\r\n  rollRight: rollRight,\r\n  rollTop: rollTop,\r\n  rollVisibleBottom: rollVisibleBottom,\r\n  rollVisibleLeft: rollVisibleLeft,\r\n  rollVisibleOnceBottom: rollVisibleOnceBottom,\r\n  rollVisibleOnceLeft: rollVisibleOnceLeft,\r\n  rollVisibleOnceRight: rollVisibleOnceRight,\r\n  rollVisibleOnceTop: rollVisibleOnceTop,\r\n  rollVisibleRight: rollVisibleRight,\r\n  rollVisibleTop: rollVisibleTop,\r\n  slideBottom: slideBottom,\r\n  slideLeft: slideLeft,\r\n  slideRight: slideRight,\r\n  slideTop: slideTop,\r\n  slideVisibleBottom: slideVisibleBottom,\r\n  slideVisibleLeft: slideVisibleLeft,\r\n  slideVisibleOnceBottom: slideVisibleOnceBottom,\r\n  slideVisibleOnceLeft: slideVisibleOnceLeft,\r\n  slideVisibleOnceRight: slideVisibleOnceRight,\r\n  slideVisibleOnceTop: slideVisibleOnceTop,\r\n  slideVisibleRight: slideVisibleRight,\r\n  slideVisibleTop: slideVisibleTop\r\n};\r\n\r\nfunction slugify(str) {\r\n  const a = \"\\xE0\\xE1\\xE2\\xE4\\xE6\\xE3\\xE5\\u0101\\u0103\\u0105\\xE7\\u0107\\u010D\\u0111\\u010F\\xE8\\xE9\\xEA\\xEB\\u0113\\u0117\\u0119\\u011B\\u011F\\u01F5\\u1E27\\xEE\\xEF\\xED\\u012B\\u012F\\xEC\\u0142\\u1E3F\\xF1\\u0144\\u01F9\\u0148\\xF4\\xF6\\xF2\\xF3\\u0153\\xF8\\u014D\\xF5\\u0151\\u1E55\\u0155\\u0159\\xDF\\u015B\\u0161\\u015F\\u0219\\u0165\\u021B\\xFB\\xFC\\xF9\\xFA\\u016B\\u01D8\\u016F\\u0171\\u0173\\u1E83\\u1E8D\\xFF\\xFD\\u017E\\u017A\\u017C\\xB7/_,:;\";\r\n  const b = \"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------\";\r\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\r\n  return str.toString().replace(/[A-Z]/g, (s) => `-${s}`).toLowerCase().replace(/\\s+/g, \"-\").replace(p, (c) => b.charAt(a.indexOf(c))).replace(/&/g, \"-and-\").replace(/[^\\w\\-]+/g, \"\").replace(/-{2,}/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\");\r\n}\r\n\r\nconst CUSTOM_PRESETS = Symbol(\r\n  import.meta.env?.MODE === \"development\" ? \"motionCustomPresets\" : \"\"\r\n);\r\n\r\nconst MotionComponentProps = {\r\n  // Preset to be loaded\r\n  preset: {\r\n    type: String,\r\n    required: false\r\n  },\r\n  // Instance\r\n  instance: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Variants\r\n  variants: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Initial variant\r\n  initial: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Lifecycle hooks variants\r\n  enter: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  leave: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Intersection observer variants\r\n  visible: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  visibleOnce: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Event listeners variants\r\n  hovered: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  tapped: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  focused: {\r\n    type: Object,\r\n    required: false\r\n  },\r\n  // Helpers\r\n  delay: {\r\n    type: [Number, String],\r\n    required: false\r\n  },\r\n  duration: {\r\n    type: [Number, String],\r\n    required: false\r\n  }\r\n};\r\nfunction isObject(val) {\r\n  return Object.prototype.toString.call(val) === \"[object Object]\";\r\n}\r\nfunction clone(v) {\r\n  if (Array.isArray(v)) {\r\n    return v.map(clone);\r\n  }\r\n  if (isObject(v)) {\r\n    const res = {};\r\n    for (const key in v) {\r\n      res[key] = clone(v[key]);\r\n    }\r\n    return res;\r\n  }\r\n  return v;\r\n}\r\nfunction setupMotionComponent(props) {\r\n  const instances = reactive({});\r\n  const customPresets = inject(CUSTOM_PRESETS, {});\r\n  const preset = computed(() => {\r\n    if (props.preset == null) {\r\n      return {};\r\n    }\r\n    if (customPresets != null && props.preset in customPresets) {\r\n      return structuredClone(toRaw(customPresets)[props.preset]);\r\n    }\r\n    if (props.preset in presets) {\r\n      return structuredClone(presets[props.preset]);\r\n    }\r\n    return {};\r\n  });\r\n  const propsConfig = computed(() => ({\r\n    initial: props.initial,\r\n    enter: props.enter,\r\n    leave: props.leave,\r\n    visible: props.visible,\r\n    visibleOnce: props.visibleOnce,\r\n    hovered: props.hovered,\r\n    tapped: props.tapped,\r\n    focused: props.focused\r\n  }));\r\n  function applyTransitionHelpers(config, values) {\r\n    for (const transitionKey of [\"delay\", \"duration\"]) {\r\n      if (values[transitionKey] == null)\r\n        continue;\r\n      const transitionValueParsed = Number.parseInt(\r\n        values[transitionKey]\r\n      );\r\n      for (const variantKey of [\"enter\", \"visible\", \"visibleOnce\"]) {\r\n        const variantConfig = config[variantKey];\r\n        if (variantConfig == null)\r\n          continue;\r\n        variantConfig.transition ??= {};\r\n        variantConfig.transition[transitionKey] = transitionValueParsed;\r\n      }\r\n    }\r\n    return config;\r\n  }\r\n  const motionConfig = computed(() => {\r\n    const config = defu(\r\n      {},\r\n      propsConfig.value,\r\n      preset.value,\r\n      props.variants || {}\r\n    );\r\n    return applyTransitionHelpers({ ...config }, props);\r\n  });\r\n  if (import.meta.env?.MODE === \"development\") {\r\n    if (props.preset != null && presets?.[props.preset] == null && customPresets?.[props.preset] == null) {\r\n      console.warn(`[@vueuse/motion]: Preset \\`${props.preset}\\` not found.`);\r\n    }\r\n    const replayAnimation = (instance) => {\r\n      if (instance.variants?.initial) {\r\n        instance.set(\"initial\");\r\n      }\r\n      nextTick(() => {\r\n        if (instance.variants?.enter)\r\n          instance.apply(\"enter\");\r\n        if (instance.variants?.visible)\r\n          instance.apply(\"visible\");\r\n        if (instance.variants?.visibleOnce)\r\n          instance.apply(\"visibleOnce\");\r\n      });\r\n    };\r\n    onUpdated(() => {\r\n      for (const key in instances) {\r\n        replayAnimation(instances[key]);\r\n      }\r\n    });\r\n  }\r\n  function setNodeInstance(node, index, style) {\r\n    node.props ??= {};\r\n    node.props.style ??= {};\r\n    node.props.style = { ...node.props.style, ...style };\r\n    const elementMotionConfig = applyTransitionHelpers(\r\n      clone(motionConfig.value),\r\n      node.props\r\n    );\r\n    node.props.onVnodeMounted = ({ el }) => {\r\n      instances[index] = useMotion(\r\n        el,\r\n        elementMotionConfig\r\n      );\r\n    };\r\n    node.props.onVnodeUpdated = ({ el }) => {\r\n      const styles = variantToStyle(instances[index].state);\r\n      for (const [key, val] of Object.entries(styles)) {\r\n        el.style[key] = val;\r\n      }\r\n    };\r\n    return node;\r\n  }\r\n  return {\r\n    motionConfig,\r\n    setNodeInstance\r\n  };\r\n}\r\n\r\nconst MotionComponent = defineComponent({\r\n  name: \"Motion\",\r\n  props: {\r\n    ...MotionComponentProps,\r\n    is: {\r\n      type: [String, Object],\r\n      default: \"div\"\r\n    }\r\n  },\r\n  setup(props) {\r\n    const slots = useSlots();\r\n    const { motionConfig, setNodeInstance } = setupMotionComponent(props);\r\n    return () => {\r\n      const style = variantToStyle(motionConfig.value.initial || {});\r\n      const node = h(props.is, void 0, slots);\r\n      setNodeInstance(node, 0, style);\r\n      return node;\r\n    };\r\n  }\r\n});\r\n\r\nconst MotionGroupComponent = defineComponent({\r\n  name: \"MotionGroup\",\r\n  props: {\r\n    ...MotionComponentProps,\r\n    is: {\r\n      type: [String, Object],\r\n      required: false\r\n    }\r\n  },\r\n  setup(props) {\r\n    const slots = useSlots();\r\n    const { motionConfig, setNodeInstance } = setupMotionComponent(props);\r\n    return () => {\r\n      const style = variantToStyle(motionConfig.value.initial || {});\r\n      const nodes = slots.default?.() || [];\r\n      for (let i = 0; i < nodes.length; i++) {\r\n        const n = nodes[i];\r\n        if (n.type === Fragment && Array.isArray(n.children)) {\r\n          n.children.forEach(function setChildInstance(child, index) {\r\n            if (child == null)\r\n              return;\r\n            if (Array.isArray(child)) {\r\n              setChildInstance(child, index);\r\n              return;\r\n            }\r\n            if (typeof child === \"object\") {\r\n              setNodeInstance(child, index, style);\r\n            }\r\n          });\r\n        } else {\r\n          setNodeInstance(n, i, style);\r\n        }\r\n      }\r\n      if (props.is) {\r\n        return h(props.is, void 0, nodes);\r\n      }\r\n      return nodes;\r\n    };\r\n  }\r\n});\r\n\r\nconst MotionPlugin = {\r\n  install(app, options) {\r\n    app.directive(\"motion\", directive());\r\n    if (!options || options && !options.excludePresets) {\r\n      for (const key in presets) {\r\n        const preset = presets[key];\r\n        app.directive(`motion-${slugify(key)}`, directive(preset, true));\r\n      }\r\n    }\r\n    if (options && options.directives) {\r\n      for (const key in options.directives) {\r\n        const variants = options.directives[key];\r\n        if (!variants.initial && import.meta.env?.MODE === \"development\") {\r\n          console.warn(\r\n            `Your directive v-motion-${key} is missing initial variant!`\r\n          );\r\n        }\r\n        app.directive(`motion-${key}`, directive(variants, true));\r\n      }\r\n    }\r\n    app.provide(CUSTOM_PRESETS, options?.directives);\r\n    app.component(\"Motion\", MotionComponent);\r\n    app.component(\"MotionGroup\", MotionGroupComponent);\r\n  }\r\n};\r\n\r\nfunction isMotionInstance(obj) {\r\n  const _obj = obj;\r\n  return _obj.apply !== void 0 && typeof _obj.apply === \"function\" && _obj.set !== void 0 && typeof _obj.set === \"function\" && _obj.target !== void 0 && isRef(_obj.target);\r\n}\r\n\r\nfunction useMotions() {\r\n  return motionState;\r\n}\r\n\r\nfunction useSpring(values, spring) {\r\n  const { stop, get } = useMotionValues();\r\n  return {\r\n    values,\r\n    stop,\r\n    set: (properties) => Promise.all(\r\n      Object.entries(properties).map(([key, value]) => {\r\n        const motionValue = get(key, values[key], values);\r\n        return motionValue.start((onComplete) => {\r\n          const options = {\r\n            type: \"spring\",\r\n            ...spring || getDefaultTransition(key, value)\r\n          };\r\n          return animate({\r\n            from: motionValue.get(),\r\n            to: value,\r\n            velocity: motionValue.getVelocity(),\r\n            onUpdate: (v) => motionValue.set(v),\r\n            onComplete,\r\n            ...options\r\n          });\r\n        });\r\n      })\r\n    )\r\n  };\r\n}\r\n\r\nfunction useReducedMotion(options = {}) {\r\n  const reducedMotion = useMediaQuery(\"(prefers-reduced-motion: reduce)\", options);\r\n  return computed(() => reducedMotion.value);\r\n}\r\n\r\nexport { MotionComponent, directive as MotionDirective, MotionGroupComponent, MotionPlugin, fade, fadeVisible, fadeVisibleOnce, isMotionInstance, pop, popVisible, popVisibleOnce, reactiveStyle, reactiveTransform, rollBottom, rollLeft, rollRight, rollTop, rollVisibleBottom, rollVisibleLeft, rollVisibleOnceBottom, rollVisibleOnceLeft, rollVisibleOnceRight, rollVisibleOnceTop, rollVisibleRight, rollVisibleTop, slideBottom, slideLeft, slideRight, slideTop, slideVisibleBottom, slideVisibleLeft, slideVisibleOnceBottom, slideVisibleOnceLeft, slideVisibleOnceRight, slideVisibleOnceTop, slideVisibleRight, slideVisibleTop, slugify, useElementStyle, useElementTransform, useMotion, useMotionControls, useMotionFeatures, useMotionProperties, useMotionTransitions, useMotionVariants, useMotions, useReducedMotion, useSpring };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}